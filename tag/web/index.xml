<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>web | 笼鹰的自习室</title><link>/tag/web/</link><atom:link href="/tag/web/index.xml" rel="self" type="application/rss+xml"/><description>web</description><generator>Wowchemy (https://wowchemy.com)</generator><language>en-us</language><copyright>This work by 笼鹰 is licensed under a Creative Commons Attribution-ShareAlike 4.0 International License. 陕公网安备 61010302000452号 © 2020</copyright><lastBuildDate>Wed, 07 Oct 2020 00:00:00 +0000</lastBuildDate><image><url>/images/icon_hu0ad9a760d4acc21697f10ad9ba07207a_233385_512x512_fill_lanczos_center_2.png</url><title>web</title><link>/tag/web/</link></image><item><title>个人博客维护出现的问题</title><link>/post/website/</link><pubDate>Wed, 07 Oct 2020 00:00:00 +0000</pubDate><guid>/post/website/</guid><description>&lt;h2 id="hexo站点打开显示hsts问题">hexo站点打开显示HSTS问题&lt;/h2>
&lt;p>今天访问自己的博客网站时，浏览器并没有直接出现博客首页，而是出现了HSTS的页面（这里猜测应该是证书出了问题）。
使用chrome://net-internals/#hsts删除域名的安全策略。刷新后，点击访问不安全的网站，才进入了博客首页。但是发现浏览器的地址栏左侧显示红色的不安全，点击查看详情果然是证书有问题。&lt;/p>
&lt;p>这里得简要说明一下博主的网站搭建方式：是用hexo搭建的静态网站，源码托管在github上，采用travis CI进行持续部署与集成，即当此github项目更新时travis CI会执行.travis脚本的命令，
自动进行hexo的重新构建并部署，把生成的前端代码作为项目一式两分提交到github和coding托管。
分别启动coding和github的page服务，并且强行开启HTTPS。这时候通过&lt;username>.github.io和&lt;username>.coding,me就能访问了。
然后万网申请了一个域名，分别回到coding和github配置page服务绑定自定义域名。
然后在网站DNS解析控制台配置国内外分流，即国内ip访问域名进入的是coding的page，国外ip访问的是github的page。结束。&lt;/p>
&lt;p>所以现在网站出现问题，首先验证一下猜测。于是浏览器切换到代理模式，刷新博客首页，一切正常。这说明仅仅是coding的page服务出现了问题。于是访问coding发现page设置里的SSL/TLS安全证书状态显示错误。我先点击了申请，重试，仍然是错误，鼠标放到错误上显示的详情是urn:acme:error:unauthorized invalid response from [http://exmaple.com/.well-known/acme-challenge/xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx]&lt;/p>
&lt;h3 id="分析">分析&lt;/h3>
&lt;p>查阅coding的&lt;a href="https://dev.tencent.com/help/doc/faq/coding-pages/ssh/tls#urnacmeerrorunauthorized" target="_blank" rel="noopener">自定义域名的帮助文档&lt;/a>后才知道这是无法获取正确的域名验证信息。可能有两种原因：&lt;/p>
&lt;ul>
&lt;li>DNS 的 CNAME 记录是否设置正确&lt;/li>
&lt;li>&lt;strong>域名的 DNS 将海外线路解析到 Coding Pages 的服务器&lt;/strong>&lt;/li>
&lt;/ul>
&lt;p>考虑到之前网站访问都正常，一直没有修改过DNS设置，所以不太可能是第一个原因。按照第二个原因推测可能是coding证书过期了，重新申请的时候域名解析没有使用正确的分线路解析。注意到上面的xxxxxx中包含一个IP地址。这个很可能是网站提供page服务的服务器地址。于是ping &lt;username>.github.io和&lt;username>.coding.me查看域名服务器的ip，发现果然。那个ip正好是&lt;username>.github.io的域名ip。这就可以解释了，coding的证书申请，返回的却是github的地址。所以域，。&lt;/p>
&lt;p>找到问题所在后，控制台，先暂时将解析到github的两条记录暂停，只返回coding Pages界面，再回到coding重新申请证书。提示30分钟只能申请一次。好吧。于是把这个添加到TODO List。后面回来申请SSL/TLS安全证书的状态就变成了正常。&lt;/p>
&lt;h2 id="academic-theme-for-hugo">Academic theme for Hugo&lt;/h2>
&lt;ol>
&lt;li>更新主题失败&lt;/li>
&lt;/ol>
&lt;p>在脚本update_academic.sh的view_update中加入git submodule init即可
2. 关于academic主题绝大多数问题都可以在&lt;a href="https://github.com/gcushen/hugo-academic/issues" target="_blank" rel="noopener">hugo-academic-issues&lt;/a>中得到解答。不得不承认这是hugo里维护最好的一个项目，没有之一。&lt;/p>
&lt;p>Did you find this page helpful? Consider sharing it 🙌&lt;/p></description></item></channel></rss>