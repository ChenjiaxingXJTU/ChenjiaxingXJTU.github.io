<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>æŠ€æœ¯ | ç¬¼é¹°çš„è‡ªä¹ å®¤</title><link>/category/%E6%8A%80%E6%9C%AF/</link><atom:link href="/category/%E6%8A%80%E6%9C%AF/index.xml" rel="self" type="application/rss+xml"/><description>æŠ€æœ¯</description><generator>Wowchemy (https://wowchemy.com)</generator><language>en-us</language><copyright>This work by ç¬¼é¹° is licensed under a Creative Commons Attribution-ShareAlike 4.0 International License. é™•å…¬ç½‘å®‰å¤‡ 61010302000452å· Â© 2020</copyright><lastBuildDate>Wed, 07 Oct 2020 00:00:00 +0000</lastBuildDate><image><url>/images/icon_hu0ad9a760d4acc21697f10ad9ba07207a_233385_512x512_fill_lanczos_center_2.png</url><title>æŠ€æœ¯</title><link>/category/%E6%8A%80%E6%9C%AF/</link></image><item><title>bazelç¼–è¯‘onoså‡ºé”™</title><link>/post/onos/</link><pubDate>Wed, 07 Oct 2020 00:00:00 +0000</pubDate><guid>/post/onos/</guid><description>&lt;h2 id="ç¼–è¯‘é”™è¯¯npmå®‰è£…å¤±è´¥webgui_onos-gui-npm-install-failed">ç¼–è¯‘é”™è¯¯ï¼Œnpmå®‰è£…å¤±è´¥ï¼š&lt;code>//web/gui:_onos-gui-npm-install failed&lt;/code>&lt;/h2>
&lt;pre>&lt;code>ERROR: /home/onos/onos/web/gui/BUILD:96:1: Executing genrule //web/gui:_onos-gui-npm-install failed (Exit 1) bash failed: error executing command /bin/bash -c ... (remaining 1 argument(s) skipped)
Use --sandbox_debug to see verbose messages from the sandbox
Target //:onos failed to build
Use --verbose_failures to see the command lines of failed build steps.
INFO: Elapsed time: 1991.490s, Critical Path: 1876.35s
INFO: 2419 processes: 2091 linux-sandbox, 328 worker.
FAILED: Build did NOT complete successfully
&lt;/code>&lt;/pre>
&lt;p>è§£å†³æ–¹æ³•å‚è€ƒ
&lt;a href="https://groups.google.com/a/onosproject.org/forum/#!topic/onos-dev/1fs11-NwIEk" target="_blank" rel="noopener">Google group&lt;/a> æˆ–
&lt;a href="https://blog.csdn.net/daihanglai7622/article/details/88642998" target="_blank" rel="noopener">CSDN&lt;/a>&lt;/p>
&lt;ul>
&lt;li>å•ç‹¬ç¼–è¯‘ä»¥æŸ¥çœ‹log
bazel build //web/gui:_onos-gui-npm-install &amp;ndash;verbose_failures &amp;ndash;sandbox_debug
sar -n DEV 1 2000000000000 æŸ¥çœ‹ç½‘é€Ÿï¼Œå› ä¸ºè¿è¡Œbazelè„šæœ¬å®é™…ä¸Šå°±æ˜¯åœ¨é…ç½®ã€ç¼–è¯‘å’Œå®‰è£…ç¯å¢ƒã€‚è¿™ä¸ªè¿‡ç¨‹æ˜¯éœ€è¦ä¸‹è½½ä¸œè¥¿çš„ã€‚å¡ä½ä¸åŠ¨è¦ä¹ˆæ˜¯è¢«å¢™äº†ï¼Œè¦ä¹ˆæ˜¯å‘½ä»¤è¡Œæƒé™æˆ–è€…ç¼ºå°‘ä¾èµ–çš„è½¯ä»¶ï¼ˆç”¨aptè£…ä¸€ä¸‹ï¼‰
sudo find / -name npm-install.out
catæ—¥å¿—å‘ç°
PhantomJS not found on PATH
Downloading &lt;a href="https://github.com/Medium/phantomjs/releases/download/v2.1.1/phantomjs-2.1.1-macosx.zip">https://github.com/Medium/phantomjs/releases/download/v2.1.1/phantomjs-2.1.1-macosx.zip&lt;/a>
Saving to /var/folders/mh/2ptfthxj2qb49jscj1b0gjsm0000gn/T/phantomjs/phantomjs-2.1.1-macosx.zip
Receiving&amp;hellip;
ä¸€ç›´å¡æ­»è¿™ï¼Œç›´åˆ°æŠ¥é”™ã€‚
åŸå› æ˜¯å¤©æœç½‘ç»œï¼šå®ƒçš„å®‰è£…è¿‡ç¨‹ä¸­è¦å» github ä¸‹è½½ä¸€ä¸ªåŒ…ï¼Œè€Œ github release æ–‡ä»¶æ”¾åœ¨äºšé©¬é€Š aws ä¸Šï¼ˆè¢«å¢™äº†ï¼‰ã€‚è§£å†³æ–¹æ³•æ˜¯å€ŸåŠ©æ·˜å®é•œåƒ
ä¿®æ”¹web/gui/BUILD
&amp;quot; $$NPM $$NPM_ARGS install &amp;ndash;no-cache &amp;ndash;loglevel=error &amp;gt;npm-install.out 2&amp;gt;&amp;amp;1 &amp;amp;&amp;amp;&amp;quot;
çš„å‰é¢æ–°å¢ä¸€è¡Œ
&amp;quot; export PHANTOMJS_CDNURL=https://npm.taobao.org/mirrors/phantomjs &amp;amp;&amp;amp;&amp;quot;
ä¹Ÿå¯ä»¥æ‰‹åŠ¨ä¸‹è½½æ‹·è´åˆ°/tmp/phantomjsä¸‹ã€‚å› ä¸ºæ¯æ¬¡é‡å¯ç”µè„‘è¯¥ç›®å½•éƒ½ä¼šè¢«åˆ é™¤ã€‚
&lt;pre>&lt;code class="language-bash">cd ~/onos/tools/dev/bin/
./onos-gen-bazel-project &amp;gt; /tmp/onos_bazelproject
&lt;/code>&lt;/pre>
&lt;/li>
&lt;/ul>
&lt;h2 id="å¯¼å…¥intellij-ideaå‡ºé”™">å¯¼å…¥intellij ideaå‡ºé”™&lt;/h2>
&lt;p>å¦‚æœæ˜¯å®‰è£…é”™è¯¯ï¼Œæ˜¯ç½‘ç»œæˆ–å¢™
å¦‚æœæ˜¯ç¼–è¯‘é”™è¯¯ï¼Œå¾ˆå¯èƒ½æ˜¯bazelæ’ä»¶ç‰ˆæœ¬ä¸å¯¹ï¼Œintellij ideaç‰ˆæœ¬å’Œæ’ä»¶ç‰ˆæœ¬æœ‰å¯¹åº”å…³ç³»
è¯¦æƒ…è§ï¼š&lt;a href="https://plugins.jetbrains.com/plugin/8609-bazel/versions" target="_blank" rel="noopener">bazle plugin version&lt;/a>
java.lang.NoClassDefFoundError: com/google/common/util/concurrent/internal/InternalFutureFailureAccess
Caused by: java.lang.ClassNotFoundException: com.google.common.util.concurrent.internal.InternalFutureFailureAccess&lt;/p>
&lt;p>Did you find this page helpful? Consider sharing it ğŸ™Œ&lt;/p></description></item><item><title>linuxç£ç›˜æ‰©å®¹</title><link>/post/disk/</link><pubDate>Wed, 07 Oct 2020 00:00:00 +0000</pubDate><guid>/post/disk/</guid><description>&lt;h3 id="èƒŒæ™¯">èƒŒæ™¯&lt;/h3>
&lt;p>ä½œä¸ºLinuxèœé¸Ÿï¼Œæ¯æ¬¡è£…Linuxæ“ä½œç³»ç»Ÿæ—¶æˆ‘éƒ½è¦åœ¨åˆ†åŒºè¿™ä¸€æ­¥ä¸ŠèŠ±äº›åŠŸå¤«æ€è€ƒï¼šæ€ä¹ˆåˆ’åˆ†æ¯”è¾ƒåˆé€‚ã€‚ï¼ˆæˆ‘çš„è¿‘æœŸéœ€æ±‚æ˜¯ä»€ä¹ˆ?æœªæ¥å¯èƒ½å‘ç”Ÿå˜åŒ–å—ï¼Ÿï¼‰å› ä¸ºåœ¨é€»è¾‘åˆ†åŒºåˆ’åˆ†å¥½åå°±å¾ˆéš¾æ›´æ”¹äº†ï¼Œä¸€æ—¦æŸä¸ªåˆ†åŒºç©ºé—´è€—å°½ä¼šå¾ˆéº»çƒ¦ã€‚ä¹‹å‰ç”¨EXSIç®¡ç†æœåŠ¡å™¨é‡Œçš„è™šæ‹Ÿæœºï¼Œå¯ä»¥ç›´æ¥åœ¨webæ§åˆ¶å°ä¸­åŠ¨æ€è°ƒæ•´å…¶ç£ç›˜å¤§å°ã€‚å¦‚æœæ˜¯vmware workstation proæˆ–è€…virtualboxçš„è™šæ‹Ÿæœºä¸€èˆ¬å°±ç”¨gpartedè°ƒæ•´åˆ†åŒº(è¿™ä¹ˆå¹²æœ‰ç‚¹å®³æ€•æåï¼Œæ“ä½œå‰æˆ‘ä¼šå¤‡ä»½ä¸€ä¸‹æ–‡ä»¶åˆ°ç§»åŠ¨ç¡¬ç›˜)ã€‚è‡ªä»å­¦ä¹ äº†LVMåï¼Œåˆ†åŒºç®¡ç†ä¸€ä¸‹å­å°±å˜å®¹æ˜“äº†ï¼Œç›´æ¥åœ¨CLIç»ˆç«¯æ“ä½œã€‚&lt;/p>
&lt;h3 id="å¿«é€Ÿäº†è§£lvm">å¿«é€Ÿäº†è§£LVM&lt;/h3>
&lt;p>ç®€å•æ¥è¯´LVMå°±æ˜¯å°†åº•å±‚çš„å¤šå—ç‰©ç†å·PVç»„æˆä¸€ä¸ªå­˜å‚¨æ± VGï¼Œç”¨æˆ·å¯ä»¥åœ¨å­˜å‚¨æ± ä¸Šåˆ›å»ºå¤šä¸ªé€»è¾‘å·LVï¼Œè¿™ä¸ªé€»è¾‘å·å°±ç›¸å½“äºwindowsä¸‹çš„ä¸€ä¸ªCç›˜æˆ–è€…åˆ«çš„ç›˜ï¼Œç”¨æˆ·å¯ä»¥å¾€é€»è¾‘å·ä¸Šè£…ç³»ç»Ÿæˆ–è€…å†™æ•°æ®ï¼Œæ•ˆæœç­‰åŒäºå†™ç‰©ç†å—ä¸Šã€‚&lt;/p>
&lt;p>LVMæœ€å…³é”®çš„ç‚¹å°±æ˜¯è¿™ä¸ªé€»è¾‘å·ï¼Œè¿™æ˜¯LVMå¥½ç”¨çš„åŸå› ï¼Œå› ä¸ºLVMå¸®ç”¨æˆ·åšå¥½äº†æ˜ å°„ã€‚æˆ‘ä»¬åªéœ€è¦çŸ¥é“LVMæ˜¯åˆ©ç”¨Linuxå†…æ ¸çš„device-mapperåŠŸèƒ½æ¥å®ç°å­˜å‚¨ç³»ç»Ÿçš„è™šæ‹ŸåŒ–ï¼Œæ€§èƒ½å½±å“ä¸å¤§ã€‚LVMçš„å¾ˆå¤šå¥½å¤„éƒ½æ˜¯å› ä¸ºæœ‰è¿™ä¸ªæ˜ å°„åœ¨ã€‚&lt;/p>
&lt;p>LVMæœ€å¤§çš„å¥½å¤„å°±æ˜¯å®ƒå¯ä»¥åœ¨çº¿ï¼ˆonlineï¼‰å¯¹é€»è¾‘å·ï¼ˆLVï¼‰å’Œå·ç»„ï¼ˆVGï¼‰è¿›è¡Œåˆ›å»ºã€åˆ é™¤ã€è°ƒæ•´å¤§å°ç­‰æ“ä½œã€‚æ— éœ€é‡æ–°å¯åŠ¨æœåŠ¡ï¼Œå°±å¯ä»¥å°†æœåŠ¡ä¸­ç”¨åˆ°çš„é€»è¾‘å·ï¼ˆLVï¼‰åœ¨çº¿ï¼ˆonlineï¼‰/åŠ¨æ€ï¼ˆliveï¼‰è¿ç§»è‡³åˆ«çš„ç¡¬ç›˜ä¸Šã€‚&lt;/p>
&lt;p>å½“ç„¶è¿˜æœ‰äº›åˆ«çš„å¥½å¤„ï¼Œä¾‹å¦‚å…è®¸åˆ›å»ºå¿«ç…§ï¼Œæ”¯æŒå„ç§è®¾å¤‡æ˜ å°„ç›®æ ‡ï¼ˆdevice-mapper targetsï¼‰ã€‚&lt;/p>
&lt;h3 id="ç¨å¾®æ·±å…¥ä¸€ä¸‹lvm">ç¨å¾®æ·±å…¥ä¸€ä¸‹LVM&lt;/h3>
&lt;ul>
&lt;li>MBRï¼ˆMaster Boot Recordï¼‰ï¼ˆä¸»å¼•å¯¼è®°å½•ï¼‰å’ŒGPTï¼ˆGUID Partition Tableï¼‰ï¼ˆGUIDæ„ä¸ºå…¨å±€å”¯ä¸€æ ‡è¯†ç¬¦ï¼‰æ˜¯åœ¨ç£ç›˜ä¸Šå­˜å‚¨åˆ†åŒºä¿¡æ¯çš„ä¸¤ç§ä¸åŒæ–¹å¼ã€‚&lt;/li>
&lt;/ul>
&lt;ol>
&lt;li>ä¼ ç»Ÿçš„MBRåˆ†åŒºæ–¹å¼æœ€å¤š4ä¸ªä¸»åˆ†åŒºï¼ˆ3ä¸ªä¸»åˆ†åŒº+1ä¸ªæ‰©å±•åˆ†åŒº(æ‰©å±•åˆ†åŒºé‡Œé¢å¯ä»¥æ”¾å¤šä¸ªé€»è¾‘åˆ†åŒº)ï¼‰ï¼Œæ— æ³•åˆ›å»ºå¤§äº2TBçš„åˆ†åŒºï¼Œä¸€èˆ¬ç”¨fdiskåˆ†åŒºå·¥å…·ã€‚&lt;/li>
&lt;li>GPTåˆ†åŒºæ–¹å¼å°†ä¸ä¼šæœ‰è¿™ç§é™åˆ¶ï¼Œä¸€èˆ¬ä½¿ç”¨partedåˆ†åŒºï¼›&lt;/li>
&lt;/ol>
&lt;ul>
&lt;li>é€»è¾‘å·ç®¡ç†(LVM)ï¼Œæ˜¯ Logical Volume Managerï¼ˆé€»è¾‘å·ç®¡ç†ï¼‰çš„ç®€å†™ï¼Œlvmæ˜¯å·çš„ä¸€ç§ç®¡ç†æ–¹å¼ï¼Œå¹¶ä¸æ˜¯åˆ†åŒºå·¥å…·ï¼ˆä¹Ÿå¯ä¸é‡‡ç”¨è¿™ç§LVMç®¡ç†æ–¹å¼ï¼‰.&lt;/li>
&lt;/ul>
&lt;p>LVMçš„åŸºæœ¬ç»„æˆéƒ¨åˆ†å¦‚ä¸‹ï¼š&lt;/p>
&lt;ul>
&lt;li>ç‰©ç†å· (PV)
&lt;br>ä¸€ä¸ªå¯ä¾›å­˜å‚¨LVMçš„å—è®¾å¤‡. ä¾‹å¦‚: ä¸€å—ç¡¬ç›˜, ä¸€ä¸ªMBRæˆ–GPTåˆ†åŒº, ä¸€ä¸ªå›ç¯æ–‡ä»¶, ä¸€ä¸ªè¢«å†…æ ¸æ˜ å°„çš„è®¾å¤‡ (ä¾‹å¦‚ dm-crypt)ã€‚PVåŒ…å«æœ‰ä¸LVMç›¸å…³çš„ç®¡ç†å‚æ•°&lt;/li>
&lt;li>å·ç»„ (VG)
&lt;br>&lt;font color=red>ç‰©ç†å·PVç»„åˆæˆä¸€ä¸ªå­˜å‚¨æ± VGï¼Œä½œä¸ºå­˜æ”¾é€»è¾‘å·LVçš„å®¹å™¨&lt;/font>ã€‚ PEs are allocated from a VG for a LV.&lt;/li>
&lt;li>&lt;strong>é€»è¾‘å· (LV)&lt;/strong>
&lt;br>&lt;font color=red>&amp;ldquo;è™šæ‹Ÿ/é€»è¾‘å·&amp;quot;å­˜æ”¾åœ¨ä¸€ä¸ªå·ç»„ä¸­,ç”±ç‰©ç†å—ç»„æˆã€‚&lt;/font>æ˜¯ä¸€ä¸ªç±»ä¼¼äºç‰©ç†è®¾å¤‡çš„å—è®¾å¤‡ï¼Œä¾‹å¦‚ï¼Œä½ å¯ä»¥ç›´æ¥åœ¨å®ƒä¸Šé¢åˆ›å»ºä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿæ–‡ä»¶ç³»ç»Ÿã€‚&lt;strong>é€»è¾‘å·ä¸å¿…æ˜¯è¿ç»­çš„ç©ºé—´ï¼Œå®ƒå¯ä»¥è·¨è¶Šè®¸å¤šç‰©ç†å·ï¼Œå¹¶ä¸”å¯ä»¥åœ¨ä»»ä½•æ—¶å€™ä»»æ„çš„è°ƒæ•´å¤§å°ã€‚ç›¸æ¯”ç‰©ç†ç£ç›˜æ¥è¯´ï¼Œæ›´æ˜“äºç£ç›˜ç©ºé—´çš„ç®¡ç†&lt;/strong>&lt;/li>
&lt;li>ç‰©ç†å— (PE)
&lt;br>ä¸€ä¸ªå·ç»„ä¸­æœ€å°çš„è¿ç»­åŒºåŸŸ(é»˜è®¤ä¸º4 MiB)ï¼Œå¤šä¸ªç‰©ç†å—å°†è¢«åˆ†é…ç»™ä¸€ä¸ªé€»è¾‘å·ã€‚å¯ä»¥æŠŠå®ƒçœ‹æˆç‰©ç†å·çš„ä¸€éƒ¨åˆ†ï¼Œè¿™éƒ¨åˆ†å¯ä»¥è¢«åˆ†é…ç»™ä¸€ä¸ªé€»è¾‘å·ã€‚
&lt;img src="https://img.linux.net.cn/data/attachment/album/201406/18/134408sa12dauefffyszfg.jpg" alt="">&lt;/li>
&lt;/ul>
&lt;p>ç®€å•ç†è§£ä¸€ä¸‹: æœ‰ä¸€å—ç‰©ç†ç¡¬ç›˜/dev/sdaï¼Œæˆ‘ä»¬ç”¨LVMç®¡ç†å®ƒã€‚ä¸€ä¸ªå·ç»„VGå¯ä»¥çœ‹æˆæ˜¯ä¸€ä¸ªè™šæ‹Ÿç¡¬ç›˜ï¼Œé€»è¾‘å·LVå¯ä»¥çœ‹æˆè™šæ‹Ÿç¡¬ç›˜ä¸Šçš„ç£ç›˜åˆ†åŒºï¼Œç±»ä¼¼äºCç›˜ã€Dç›˜ã€‚è€Œå·ç»„VGæ˜¯ç”±ä¸‹é¢çš„å¤šä¸ªç‰©ç†å·PVç»„æˆï¼Œç‰©ç†å·PVçš„åŸºæœ¬ç»„æˆå•ä½æ˜¯ç‰©ç†å—PEã€‚è€Œé€»è¾‘ä¸ç‰©ç†å®ä½“ä¹‹é—´æ˜ å°„å…³ç³»ä¸ç”¨ç®¡ã€‚&lt;/p>
&lt;p>&lt;img src="https://s2.ax1x.com/2020/01/22/1AMidK.png" alt="1AMidK.png">
å¦‚å›¾ï¼Œ50Gçš„ç¡¬ç›˜/dev/sdaï¼Œé»˜è®¤åªåˆ†é…äº†4Gç»™æ ¹ç›®å½•ï¼ˆçº¢è‰²å®çº¿ï¼‰ï¼Œåé¢ä¸å¤Ÿç”¨äº†å¯ä»¥åŠ¨æ€ä»VGé‡Œæ‹¨ç©ºé—´ã€‚&lt;/p>
&lt;p>ä¸‹é¢å†æ¥çœ‹çœ‹LVMåœ¨baiduç™¾ç§‘ä¸Šçš„ä»‹ç»&lt;font color="red">&lt;strong>LVM&lt;/strong>&lt;/font>(Logical Volume Manager)é€»è¾‘åˆ†å·ç®¡ç†å™¨ï¼Œæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªè™šæ‹Ÿè®¾å¤‡é©±åŠ¨ï¼Œæ˜¯åœ¨å†…æ ¸ä¸­å—è®¾å¤‡å’Œç‰©ç†è®¾å¤‡ä¹‹é—´æ·»åŠ çš„ä¸€ä¸ªæ–°çš„æŠ½è±¡å±‚æ¬¡ã€‚&lt;/p>
&lt;h3 id="æ‰©å®¹å’Œåˆ†åŒº">æ‰©å®¹å’Œåˆ†åŒº&lt;/h3>
&lt;ol>
&lt;li>è™šæ‹Ÿæœºå…³æœºï¼Œåœ¨å®¿ä¸»æœºçš„vmwareç•Œé¢ä¸­ç¼–è¾‘è™šæ‹Ÿæœºè®¾ç½®ï¼Œç¡¬ä»¶/ç¡¬ç›˜/æ‰©å±•ç£ç›˜å®¹é‡ã€‚å¦‚æœæ‰©å±•é€‰é¡¹æ˜¯ç°è‰²çš„ï¼Œéœ€è¦åˆ é™¤å¿«ç…§æˆ–è€…ä½¿ç”¨vCenter Converterã€‚å¦‚æœå®¿ä¸»æœºæ˜¯linuxï¼Œå¯ä»¥ç”¨å‘½ä»¤æ‰©å±•ç£ç›˜ï¼švmware-vdiskmanager -x 16Gb xxx.vmdk&lt;/li>
&lt;li>å¯åŠ¨è™šæ‹Ÿæœº&lt;/li>
&lt;/ol>
&lt;pre>&lt;code class="language-bash"># æŸ¥çœ‹ç¡¬ç›˜å®¹é‡
sudo fdisk -l
&amp;gt; Disk /dev/sda: 21.5 GB, 21474836480 bytes
# æŸ¥çœ‹æ–‡ä»¶ç³»ç»Ÿ
df -lh
&amp;gt; å’Œæ‰©å®¹ä¹‹å‰ç»“æœä¸€æ ·ï¼Œå› ä¸ºè¿˜æ²¡æœ‰ç»™ç¡¬ç›˜åˆ†åŒº
# å¼€å§‹åˆ†åŒº
sudo fdisk /dev/sda
# ä¾æ¬¡è¾“å…¥
m ï¼ˆå‘½ä»¤æç¤ºï¼‰
p ï¼ˆæŸ¥çœ‹åˆ†åŒºï¼‰å‘ç°æœ‰ä¸‰ä¸ªç›˜ï¼Œlinuxç±»å‹çš„ä¸»åˆ†åŒºã€Extendedç±»å‹çš„ã€swapç±»å‹çš„ï¼Œblocksä¸ºç›˜çš„å¤§å°ï¼ˆå•ä½kBï¼‰
n ï¼ˆåˆ›å»ºåˆ†åŒºï¼‰
p (è®¾ä¸ºä¸»åˆ†åŒº)
3 (åˆ†åŒºid)
èµ·å§‹æ‰‡åŒº éœ€è¦è§‚å¯Ÿä¹‹å‰æŸ¥çœ‹åˆ†åŒºçš„ç¡¬ç›˜åˆ†å¸ƒæƒ…å†µï¼Œé€‰æ‹©æœ‰è¶³å¤Ÿå¤§ç©ºé—´çš„ä¸€æ®µ
ç»“æŸæ‰‡åŒº ç›´æ¥å›è½¦ï¼Œé»˜è®¤æ˜¯å°†è¿™æ®µç©ºç™½å­˜å‚¨å…¨éƒ¨åˆ†ç»™æ–°åˆ†åŒº
t ï¼ˆä¿®æ”¹ç±»å‹ï¼Œ8eä¸ºlvmï¼Œ83ä¸ºlinuxï¼‰
8e
w (å†™åˆ†åŒºè¡¨)
# åˆ†åŒºç»“æŸï¼Œå›åˆ°ç»ˆç«¯ç»§ç»­æ“ä½œ
sudo partprobe /dev/sda
sudo mkfs.ext4 /dev/sda3
&lt;/code>&lt;/pre>
&lt;h3 id="lvmå·ç®¡ç†">lvmå·ç®¡ç†&lt;/h3>
&lt;pre>&lt;code class="language-bash">sudo apt install lvm2
# è¿›å…¥lvmç®¡ç†
sudo lvm
# æŸ¥çœ‹ç‰©ç†å·PV
pvdisplay æˆ– pvscan
# åˆ›å»ºPV
pvcreate /dev/sda3
# æŸ¥çœ‹å·ç»„VG
vgdisplay -v
# åˆ›å»ºVGï¼Œç‰©ç†å·åŠ å…¥å·ç»„
vgcreate vg /dev/sda3
# åˆ›å»ºé€»è¾‘å·LV
sudo lvcreate -n lv -L 12G vg
# åœ¨LVä¸Šåˆ›å»ºæ–‡ä»¶ç³»ç»Ÿ
sudo mkfs.ext4 /dev/ubuntu/lv
# é€»è¾‘å·çš„UUID
blkid /dev/vg/lv
mkdir /home/vl
# æ’å…¥ç›¸åº”çš„æ¡ç›®/etc/fstab
UUID=b85df913-580f-461c-844f-546d8cde4646 /home/vl ext4 defaults 0 0
# æŒ‚è½½
sudo mount /home/vl
&lt;/code>&lt;/pre>
&lt;p>ç”¨df -hå’Œpvdisplayä»¥åŠfdisk -læŸ¥çœ‹ç»“æœã€‚&lt;/p>
&lt;blockquote>
&lt;p>Disk identifier: 0x00000000
Disk /dev/mapper/vg-lv doesn&amp;rsquo;t contain a valid partition table&lt;/p>
&lt;/blockquote>
&lt;p>è¿™ä¸ªæ˜¯æ­£å¸¸çš„ï¼Œå› ä¸ºvg-lvæ˜¯é€»è¾‘å·ã€‚æœ¬æ¥å°±ä¸åº”è¯¥æœ‰åˆ†åŒºè¡¨çš„ã€‚&lt;/p>
&lt;h3 id="æ‰©å±•æ ¹ç›®å½•">æ‰©å±•æ ¹ç›®å½•&lt;/h3>
&lt;p>&lt;font color=red>å‰é¢æ˜¯å°†æ•´ä¸ªè™šæ‹Ÿæœºç¡¬ç›˜æ‰©å®¹ï¼Œç„¶ååˆ›å»ºä¸€ä¸ªlvmç±»å‹çš„ç‰©ç†å·/dev/sda3ï¼Œç„¶åä¸ºå®ƒåˆ›å»ºå¯¹åº”çš„vgï¼Œlvå’Œæ–‡ä»¶ç³»ç»Ÿæ ¼å¼åŒ–ï¼Œå¹¶ä¸”åŠ¨æ€è°ƒæ•´lvçš„å®¹é‡&lt;/font>&lt;/p>
&lt;div class="alert alert-note">
&lt;div>
å¦‚æœå®‰è£…ç³»ç»Ÿæ—¶ç›´æ¥æŠŠlvmæŒ‚è½½åœ¨æ ¹ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨åˆ›å»ºlvå’Œvgã€‚åœ¨å·ç®¡ç†æ­¥éª¤ä¸­è‡ªå·±ä¸ç”¨å†åˆ›å»ºLVå’ŒVGï¼Œåªè¦åˆ›å»ºPVã€‚
&lt;/div>
&lt;/div>
&lt;pre>&lt;code class="language-bash"># å°†æ–°å¢çš„ç‰©ç†ç›˜åŠ å…¥æ ¹ç›®å½•æ‰€åœ¨çš„é€»è¾‘å·
vgextend ubuntu--vg-ubuntu--lv /dev/xxx
# æ‰©å±•æ–‡ä»¶ç³»ç»Ÿæ‰€åœ¨é€»è¾‘å·ç»„
lvextend -L +20G /dev/mapper/ubuntu--vg-ubuntu--lv #è‹¥æç¤ºNo space left on deviceï¼Œè€ƒè™‘å…ˆæš‚æ—¶å°†æœ¬åœ°æ²¡ç”¨çš„æ–‡ä»¶åˆ é™¤æˆ–ç§»å‡ºåˆ°ç§»åŠ¨ç¡¬ç›˜ï¼Œæ‰©å®¹åç§»å›
æˆ–è€…
lvextend -L +100% /dev/mapper/ubuntu--vg-ubuntu--lv #å¦‚æœå‰é¢vmwareæ–°å¢äº†20Gï¼Œè¿™é‡Œæ–°å¢20Gåˆ°lvå¤§æ¦‚ç‡ä¼šå‡ºé”™ï¼Œå®é™…èƒ½ç”¨åˆ°çš„ç©ºé—´ä¼šæ¯”ä¹‹å‰çš„å°ä¸€ç‚¹ç‚¹ã€‚ä¸æ¸…æ¥šï¼Œå¯ä»¥ç”¨ç™¾åˆ†æ•°ä»£æ›¿ã€‚
# ä½¿æ‰©å®¹ç”Ÿæ•ˆ
sudo resize2fs -p /dev/mapper/ubuntu--vg-ubuntu--lv
&lt;/code>&lt;/pre>
&lt;p>å¦‚æœå®‰è£…ç³»ç»Ÿæ—¶æ²¡æœ‰é€‰lvmæŒ‚è½½æ ¹ç›®å½•ï¼Œæ¡Œé¢linuxç³»ç»Ÿå»ºè®®ä½¿ç”¨partedï¼Œå®ƒæ”¯æŒå¤šç§åˆ†åŒºè¡¨ç±»å‹ï¼Œå…è®¸ç”¨æˆ·åˆ›å»ºã€åˆ é™¤ã€è°ƒæ•´ã€ç¼©å‡ã€ç§»åŠ¨å’Œå¤åˆ¶åˆ†åŒºï¼Œä»¥åŠé‡æ–°ç»„ç»‡ç¡¬ç›˜çš„ä½¿ç”¨ï¼Œå¤åˆ¶æ•°æ®åˆ°æ–°çš„ç¡¬ç›˜ä¸Šã€‚gparted æ˜¯ parted çš„å›¾å½¢ç•Œé¢å‰ç«¯&lt;/p>
&lt;p>sudo apt-get install parted&lt;/p>
&lt;p>&lt;img src="https://s1.ax1x.com/2020/04/12/GLTotK.png" alt="GLTotK.png">&lt;/p>
&lt;p>å¦‚å›¾æ‰€ç¤ºï¼Œç°åœ¨çš„æƒ…å†µä¸å…è®¸ç›´æ¥æŠŠunallocatedçš„åŒºé—´åˆ†é…ç»™sda1ï¼Œå› ä¸ºåŒºé—´ä¸è¿ç»­ã€‚ç§»åŠ¨åŒºé—´æ­¥éª¤å¦‚ä¸‹&lt;/p>
&lt;ol>
&lt;li>å³å‡»sda5(linux-swap)ï¼Œç‚¹å‡»swapoffã€‚æŠŠğŸ”’å»é™¤ã€‚æ¥ç€è¿›è¡Œ2~4æ­¥å°†unallocatedçš„åŒºé—´é€æ­¥ç§»åˆ°sda1(/)çš„æ—è¾¹ã€‚&lt;/li>
&lt;li>å³å‡»sda2(extended)ï¼Œå°†free space followingè®¾ä¸º0ï¼Œæˆ–è€…æ‹–åŠ¨æ»‘å—ã€‚ä½¿å¾—unallocatedåŒ…å«è¿›sda2&lt;/li>
&lt;li>å³å‡»sda5ï¼Œå°†free space followingè®¾ä¸º0ã€‚è¿™æ—¶ä¼šå¼¹å‡ºè­¦å‘Šï¼Œç‚¹okï¼Œå¿½ç•¥å®ƒã€‚&lt;/li>
&lt;li>å³å‡»sda2ï¼Œå°†new sizeè®¾ä¸ºlinux-swapçš„å¤§å°ï¼Œä½¿å¾—unllocatedç»§ç»­ä¸Šç§»ã€‚&lt;/li>
&lt;li>å³å‡»sda1ï¼Œç”±äºç©ºé—²åŒºé—´å·²ç»åœ¨æ—è¾¹äº†ï¼Œè°ƒæ•´å¤§å°ã€‚&lt;/li>
&lt;li>ç‚¹å‡»apply all operationså›¾æ ‡ã€‚&lt;/li>
&lt;/ol>
&lt;p>é€€å‡ºç¨‹åºåï¼Œdf -hæŸ¥çœ‹ã€‚æ•´ä¸ªè¿‡ç¨‹å…¶å®ä¹Ÿæ²¡æœ‰é‡å¯ã€‚
&lt;img src="https://s1.ax1x.com/2020/04/12/GLbpQg.png" alt="GLbpQg.png">&lt;/p>
&lt;h3 id="å‚è€ƒèµ„æ–™">å‚è€ƒèµ„æ–™ï¼š&lt;/h3>
&lt;ol>
&lt;li>&lt;a href="https://gtcsq.readthedocs.io/en/latest/linux_tools/ubuntu_lvm_extend.html">https://gtcsq.readthedocs.io/en/latest/linux_tools/ubuntu_lvm_extend.html&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://baike.baidu.com/item/LVM">https://baike.baidu.com/item/LVM&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://www.cnblogs.com/hester/p/11439353.html">https://www.cnblogs.com/hester/p/11439353.html&lt;/a>
Did you find this page helpful? Consider sharing it ğŸ™Œ&lt;/li>
&lt;/ol></description></item><item><title>ovsé—®é¢˜æ€»ç»“</title><link>/post/ovs/</link><pubDate>Wed, 07 Oct 2020 00:00:00 +0000</pubDate><guid>/post/ovs/</guid><description>&lt;h2 id="inportç­‰äºoutport">inportç­‰äºoutport&lt;/h2>
&lt;p>åœ¨k=6çš„èƒ–æ ‘ä¸Šåšç½‘ç»œéªŒè¯çš„å®éªŒæ—¶ï¼Œå‘ç°äº†ä¸€ç§ç‰¹æ®Šçš„ç½‘ç»œä¸å¯è¾¾æ•…éšœã€‚debugå®šä½åˆ°å¯ç–‘çš„äº¤æ¢æœºèŠ‚ç‚¹ã€‚æœ€ç»ˆåˆ†æå‡ºåŸå› æ˜¯ç¼–è¯‘å™¨åœ¨ä¸¤ä¸ªç›¸è¿çš„äº¤æ¢æœºä¹‹é—´å­˜åœ¨æ¥å›çš„æµè¡¨ã€‚&lt;/p>
&lt;p>ç”±äºç”¨mininetæ„é€ äº†ä¸€ä¸ªç®€å•æ‹“æ‰‘ï¼Œå¿«é€ŸéªŒè¯æˆ‘çš„çŒœæƒ³ï¼šäº¤æ¢æœºä¸èƒ½æŠŠæ•°æ®åŒ…ä»inportå£è¾“å‡ºã€‚&lt;/p>
&lt;p>&lt;a href="https://imgchr.com/i/8D0yXn" target="_blank" rel="noopener">&lt;img src="https://s1.ax1x.com/2020/03/18/8D0yXn.md.png" alt="8D0yXn.md.png">&lt;/a>&lt;/p>
&lt;p>æˆ‘æ„é€ äº†ä¸€ä¸ªç®€å•çš„æ‹“æ‰‘h1-&amp;gt;s1-&amp;gt;s2-&amp;gt;s1-&amp;gt;s3-&amp;gt;h2ï¼Œå‘icmpåŒ…æ—¶å‘ç°æ‰‹åŠ¨å®‰è£…çš„å››æ¡æµè¡¨ï¼Œåªæœ‰s1ã€s2ä¸Šåˆ†åˆ«åŒ¹é…äº†ä¸€æ¬¡ï¼Œè¯´æ˜æ•°æ®åŒ…å¹¶æ²¡æœ‰ä»s2å›åˆ°s1ï¼Œè™½ç„¶åŒ¹é…åˆ°s2ä¸Šçš„inport=1, action=outport:1çš„æµè¡¨ã€‚
googleå‘ç°&lt;a href="https://mailman.stanford.edu/pipermail/openflow-discuss/2015-April/005636.html" target="_blank" rel="noopener">å°†actiosæ”¹ä¸ºIN_PORTå¯ä»¥è§£å†³é—®é¢˜0ã€‚&lt;/a>ã€‚&lt;/p>
&lt;p>è™½ç„¶åŒ¹é…äº†è½¬å‘è§„åˆ™ä½†æ˜¯æ•°æ®åŒ…å´è¢«ä¸¢å¼ƒçš„åŸå› æ˜¯OpenFlow è¦æ±‚äº¤æ¢æœºä¸è¦æŠŠæ•°æ®åŒ…ä» ingressç«¯å£å‘å‡ºã€‚è²Œä¼¼æ˜¯ä¸ºäº†é¿å…è½¬å‘ç¯è·¯å‡ºç°ã€‚ä½†æ˜¯æœ‰æ—¶å€™ç¡®å®æœ‰è¿™ä¸ªéœ€æ±‚ï¼Œè€Œä¸”ä¸ä¼šé€ æˆé—®é¢˜ã€‚å…·ä½“å¯ä»¥ä»é“¾æ¥ä¸­è¿›å»openflowè®ºå›äº†è§£ã€‚&lt;/p>
&lt;h2 id="minineté…ç½®ç½‘å…³">minineté…ç½®ç½‘å…³&lt;/h2>
&lt;p>&lt;strong>pingä¸åœ¨ä¸€ä¸ªç½‘æ®µçš„ä¸»æœºï¼ŒåŒ…ä¼šè½¬åˆ°å­ç½‘çš„ç½‘å…³ã€‚è€Œç›®å‰æ²¡æœ‰é’ˆå¯¹ä¸¤ä¸ªç½‘æ®µè®¾ç½®ç½‘å…³ã€‚&lt;/strong>&lt;/p>
&lt;pre>&lt;code class="language-bash">#ä¿®æ”¹host ip
py h1.setIP('10.0.0.11/24')
py h2.setIP('10.0.1.22/24')
#æŸ¥çœ‹è·¯ç”±è¡¨
h1 netstat â€“rnæˆ–route(æ…¢)
#ç»™h1é…ç½®é»˜è®¤ç½‘å…³ï¼ˆipï¼‰
h1 route add default gw 10.0.0.1 (h1-eth0)
#ç»™h1é…ç½®é™æ€arpè¡¨(é»˜è®¤ç½‘å…³çš„macå¡«host2)
h1 arp -s 10.0.0.1 00:00:00:00:00:02
h2 route add default gw 10.0.1.1
h2 arp -s 10.0.1.1 00:00:00:00:00:01
#æŸ¥çœ‹arpè¡¨
h1 arp -aæˆ–-n
&lt;/code>&lt;/pre>
&lt;p>sudo tcpdump -e -vv -i s1-eth1ï¼ˆ-vvè¯¦ç»†æŠ¥æ–‡ä¿¡æ¯ï¼Œ-eæ˜¾ç¤ºmacï¼Œâ€“iæŒ‡å®šç›‘å¬çš„ç«¯å£ï¼‰&lt;/p>
&lt;p>h1 ping â€“c 1 h2
ç”±äºä¸æ˜¯ä¸€ä¸ªç½‘æ®µçš„ï¼ŒicmpæŠ¥æ–‡çš„macå¡«çš„æ˜¯ç½‘å…³çš„macã€‚&lt;/p>
&lt;pre>&lt;code class="language-bash">æ¸…ç©ºarp
h1 arp -n|awk '/^[1-9]/{print &amp;quot;arp -d &amp;quot; $1}'|sh -x
h2 arp -n|awk '/^[1-9]/{print &amp;quot;arp -d &amp;quot; $1}'|sh -x
&lt;/code>&lt;/pre>
&lt;p>pingä¸é€šæ˜¯å› ä¸º
&lt;strong>h1-eth0ä¼šå‘é€ARPåŒ…è·å–ç½‘å…³çš„macï¼Œè€Œå½“å‰ç½‘å…³åœ°å€ä¸å­˜åœ¨å¯¹åº”è®¾å¤‡ï¼Œå› æ­¤ICMPå°åŒ…å‰è·å–ä¸åˆ°ç›®æ ‡åœ°å€ä¿¡æ¯ï¼Œè€Œå¯¼è‡´ç½‘ç»œä¸å¯è¾¾ã€‚&lt;/strong>&lt;/p>
&lt;p>ï¼ˆå¦‚æœå®éªŒè¿æ¥äº†æ§åˆ¶å™¨ï¼Œå¯ä»¥é€šè¿‡æ§åˆ¶å™¨è·å¾—ç›®æ ‡åœ°å€çš„ä¿¡æ¯ï¼Œå¦‚OpenDaylightåˆ©ç”¨å®ƒé¢„è®¾çš„ARP Proxyã€‚ï¼‰&lt;/p>
&lt;p>è®©ovsçš„ä¸¤ä¸ªç«¯å£æˆä¸ºç½‘å…³&lt;/p>
&lt;pre>&lt;code class="language-bash">mininet&amp;gt; s1 ifconfig s1-eth1 10.0.0.1/24
mininet&amp;gt; s1 ifconfig s1-eth2 10.0.1.1/24
&lt;/code>&lt;/pre>
&lt;p>é…ç½®æµè¡¨è®©arpå’Œicmpæ¶ˆæ¯å¾—åˆ°è½¬å‘&lt;/p>
&lt;pre>&lt;code class="language-bash">å¤„ç†ARPè¯·æ±‚
å½“ç½‘ç®¡çš„ARPæµåˆ°æ¥åï¼Œå°†å…¶äº¤ç»™æœ¬åœ°çš„OVSå¤„ç†ã€‚
mininet&amp;gt; sh ovs-ofctl add-flow s1 &amp;quot;table=0,priority=65535,arp,arp_tpa=10.0.0.1 actions=LOCAL&amp;quot;
mininet&amp;gt; sh ovs-ofctl add-flow s1 &amp;quot;table=0,priority=65535,arp,arp_tpa=10.0.1.1 actions=LOCAL&amp;quot;
å¤„ç†ARPåº”ç­”
è¯¥åº”ç­”å›å¤ç›®æ ‡åœ°å€çš„å‡ºå£ï¼Œæ¯”å¦‚å°†ç›®æ ‡ç½‘ç»œ10.0.0.1çš„åŒ…é€šè¿‡å‡ºå£ç«¯å£1æŠ“å‘å‡ºå»ã€‚ç«¯å£ä¿¡æ¯å¯ä»¥æŸ¥è¯¢å¦‚ä¸‹ï¼š
mininet&amp;gt; sh ovs-vsctl -- --columns=name,ofport list Interface
name : &amp;quot;s1-eth2&amp;quot;
ofport : 2
name : &amp;quot;s1-eth1&amp;quot;
ofport : 1
name : &amp;quot;s1&amp;quot;
ofport : 65534
å¤„ç†åº”ç­”çš„æµè¡¨å¦‚ä¸‹ï¼š
mininet&amp;gt; sh ovs-ofctl add-flow s1 &amp;quot;table=0,priority=1,arp,nw_dst=10.0.0.1,actions=output:1&amp;quot;
mininet&amp;gt; sh ovs-ofctl add-flow s1 &amp;quot;table=0,priority=1,arp,nw_dst=20.0.0.1,actions=output:2&amp;quot;
å¯¹ICMPçš„è¯·æ±‚è¿›è¡Œå¤„ç†ã€‚
ä¸ºäº†ä½¿å¾—æµè¡¨è¡¨è¾¾æ›´æ¸…æ™°ï¼Œæˆ‘ä»¬å°†ICMPè·¯ç”±çš„å¤„ç†æ”¾åœ¨å¦å¤–ä¸€ä¸ªtableå¤„ç†ã€‚ ä¹Ÿå°±æ˜¯åœ¨table0ä¸­è®¾ç½®ä¸€ä¸ªæœ€ä½ä¼˜å…ˆçº§çš„æµï¼Œå°†éARPçš„åŒ…ä¸¢ç»™ä¸‹ä¸€ä¸ªæµè¡¨å¤„ç†ã€‚
mininet&amp;gt; sh ovs-ofctl add-flow s1 &amp;quot;table=0,priority=0,actions=resubmit(,1)&amp;quot;
åœ¨table(1)ä¸­ï¼ŒOVSçš„è§’è‰²æœ‰ç‚¹åƒrouterï¼Œæˆ‘ä»¬éœ€è¦ä¿®æ”¹ICMPå°åŒ…çš„ç›®æ ‡MACåœ°å€ã€‚
mininet&amp;gt; sh ovs-ofctl add-flow s1 &amp;quot;table=1,icmp,nw_dst=10.0.0.1,actions=mod_dl_dst=00:00:00:00:00:01,output:1&amp;quot;
mininet&amp;gt; sh ovs-ofctl add-flow s1 &amp;quot;table=1,icmp,nw_dst=20.0.0.1,actions=mod_dl_dst=00:00:00:00:00:02,output:2&amp;quot;
&lt;/code>&lt;/pre>
&lt;p>##ç”¨Linuxå‘½ä»¤æ­å»ºsdnç½‘ç»œ&lt;/p>
&lt;pre>&lt;code class="language-bash"># Create host namespaces
ip netns add h1
ip netns add h2
# Create switch
ovs-vsctl add-br s1
# Create links
ip link add h1-eth0 type veth peer name s1-eth1
ip link add h2-eth0 type veth peer name s1-eth2
ip link show
# Move host ports into namespaces
ip link set h1-eth0 netns h1
ip link set h2-eth0 netns h2
ip netns exec h1 ip link show
ip netns exec h2 ip link show
# Connect switch ports to OVS
ovs-vsctl add-port s1 s1-eth1
ovs-vsctl add-port s1 s1-eth2
ovs-vsctl show
# Set up OpenFlow controller
ovs-vsctl set-controller s1 tcp:127.0.0.1
ovs-controller ptcp: &amp;amp;
ovs-vsctl show
# Configure network
ip netns exec h1 ifconfig h1-eth0 10.1
ip netns exec h1 ifconfig lo up
ip netns exec h2 ifconfig h2-eth0 10.2
ip netns exec h2 ifconfig lo up
ifconfig s1-eth1 up
ifconfig s1-eth2 up
# Test network
ip netns exec h1 ping -c1 10.2
&lt;/code>&lt;/pre>
&lt;h2 id="mininetä¸»æœºäº’ç›¸å‘åŒ…">mininetä¸»æœºäº’ç›¸å‘åŒ…&lt;/h2>
&lt;p>åœ¨mininet/mininet/ä¸­çš„net.pyä¸­æ·»åŠ å‡½æ•°ï¼š&lt;/p>
&lt;pre>&lt;code class="language-python"> def sendMulti(self, number, period, times):
times=int(times)
#os.system(&amp;quot;ls&amp;quot;)
while (times):
base_port = 5001
host_list = [h for h in self.hosts]
_len = len(host_list)
for i in range(0, _len):
client = host_list[i]
for j in range(0, _len):
server = host_list[j]
if (i != j):
client.cmd(&amp;quot;/home/cjx/ubuntu/mininet/sends&amp;quot; + ' ' + server.IP() + ' ' + number + ' ' + period)
base_port += 1
times = times - 1
&lt;/code>&lt;/pre>
&lt;p>åœ¨mininet/mininet/ä¸­çš„cli.pyä¸­æ·»åŠ å‡½æ•°ï¼š&lt;/p>
&lt;pre>&lt;code class="language-python">def do_sendmulti(self, line):
&amp;quot;&amp;quot;&amp;quot;Multi iperf UDP test between nodes&amp;quot;&amp;quot;&amp;quot;
args = line.split()
if len(args) == 3:
udpBw = args[0]
period = args[1]
times = args[2]
err = False
self.mn.sendMulti(udpBw, period,times)
else:
error('invalid number of args: sendmulti udpBw \n' +
'udpBw examples: 1M\n')
&lt;/code>&lt;/pre>
&lt;p>åœ¨mininet/bin/mnæ–‡ä»¶ä¸­ä¸¤å¤„ä¿®æ”¹ï¼š&lt;/p>
&lt;pre>&lt;code class="language-python">TESTS = { name: True
for name in ( 'pingall', 'pingpair', 'iperf', 'iperfudp', 'sendmulti' ) }
ALTSPELLING = { 'pingall': 'pingAll', 'pingpair': 'pingPair',
'iperfudp': 'iperfUdp',
'sendmulti': 'sendMulti'}
&lt;/code>&lt;/pre>
&lt;p>send.cå‘åŒ…æºæ–‡ä»¶ç¼–è¯‘æˆæ‰§è¡Œæ–‡ä»¶&lt;/p>
&lt;pre>&lt;code class="language-c">int main(int argc, char** argv)
{
///å¿…é¡»æœ‰ç›®çš„ipçš„å‚æ•°
if(argc != 4)
{
printf(&amp;quot;usage: send [ip] [number] [time interval(ms)]\n&amp;quot;);
return -1;
}
///æ ¹æ®å‚æ•°ç»„åˆå‡ºç›®çš„ä¸»æœºçš„ipåœ°å€
char dst_ip[20];
sprintf(dst_ip,&amp;quot;%s&amp;quot;,argv[1]);
int times = atoi(argv[2]);
int time_interval = atoi(argv[3]);
time_interval*=1000;
/// åˆå§‹åŒ–æœ¬æœºåœ°å€
struct sockaddr_in my_addr;
memset(&amp;amp;my_addr,0,sizeof(my_addr));
my_addr.sin_family = AF_INET; //Address family æŒ‡å®šä¸ºipv4
my_addr.sin_addr.s_addr = INADDR_ANY; ////INADDR_ANYè¡¨ç¤ºè‡ªåŠ¨è·å–æœ¬æœºåœ°å€
my_addr.sin_port = htons(8889); ///ç«¯å£å·ï¼ˆæœ¬æœºçš„ç«¯å£å¥½è¡¨ç¤ºç”¨äºå‘é€çš„ç«¯å£å·ï¼‰
///åˆå§‹åŒ–ç›®çš„ä¸»æœºåœ°å€
struct sockaddr_in dst_addr;
memset(&amp;amp;dst_addr,0,sizeof(dst_addr));
dst_addr.sin_family = AF_INET;
dst_addr.sin_addr.s_addr = inet_addr(dst_ip);
dst_addr.sin_port = htons(8888);
///åˆ›å»ºå¥—æ¥å­—
int sockfd = socket(AF_INET,SOCK_DGRAM,0);
if(sockfd == -1)
{
perror(&amp;quot;create socket failed\n&amp;quot;);
return -1;
}
///ç»‘å®šç«¯å£
if(bind(sockfd,(struct sockaddr*)&amp;amp;my_addr,sizeof(my_addr)) == -1)
{
perror(&amp;quot;bind failed\n&amp;quot;);
return -1;
}
unsigned char buf[16];
int i = 0;
for(i=0; i&amp;lt; 16; i++)
{
buf[i] = 0xff;
}
///å‘é€æ•°æ®åŒ…
for(i=0; i&amp;lt;times; i++)
{
usleep(time_interval);
// sleep(1);
printf(&amp;quot;sending packet %d to %s\n&amp;quot;,i,dst_ip);
if(sendto(sockfd,buf,sizeof(buf),0,(struct sockaddr*)&amp;amp;dst_addr,sizeof(dst_addr)) == -1)
{
perror(&amp;quot;send failed\n&amp;quot;);
return -1;
}
}
close(sockfd);
}
&lt;/code>&lt;/pre>
&lt;p>Did you find this page helpful? Consider sharing it ğŸ™Œ&lt;/p></description></item><item><title>RouteFlow</title><link>/post/routeflow/</link><pubDate>Wed, 07 Oct 2020 00:00:00 +0000</pubDate><guid>/post/routeflow/</guid><description>&lt;h1 id="routeflow">Routeflow&lt;/h1>
&lt;p>åœ¨openflowç½‘ç»œä¹‹ä¸Šæä¾›è™šæ‹ŸIPè·¯ç”±æœåŠ¡çš„å¹³å°ã€‚å®ƒä¾èµ–äºPOX,OpenFlow,MongoDB,OVS,Quagga&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://github.com/routeflow/RouteFlow">https://github.com/routeflow/RouteFlow&lt;/a> å®˜æ–¹ä»£ç &lt;/li>
&lt;/ul>
&lt;h2 id="ç¬¬ä¸‰æ–¹ä»£ç ">ç¬¬ä¸‰æ–¹ä»£ç &lt;/h2>
&lt;ul>
&lt;li>&lt;a href="https://github.com/chesteve/RouteFlowVM">https://github.com/chesteve/RouteFlowVM&lt;/a> è™šæ‹Ÿæœº&lt;/li>
&lt;li>&lt;a href="https://github.com/call518/SDN-TEST">https://github.com/call518/SDN-TEST&lt;/a> ONOS OpenDaylight Routeflowdç­‰&lt;/li>
&lt;li>&lt;a href="https://github.com/hungys/RoutingFlow(">https://github.com/hungys/RoutingFlow(&lt;/a>åœ¨Ryuä¸Šå®ç°RIP,OSPFè·¯ç”±åè®®)&lt;/li>
&lt;/ul>
&lt;h2 id="ä¸‰å¤§æ ¸å¿ƒç»„ä»¶">ä¸‰å¤§æ ¸å¿ƒç»„ä»¶&lt;/h2>
&lt;ul>
&lt;li>&lt;strong>RFClient&lt;/strong> : è¿è¡Œåœ¨VMï¼ˆå‡†ç¡®è¯´æ˜¯lxcå®¹å™¨ï¼‰ä¸­çš„å®ˆæŠ¤ç¨‹åºï¼Œç›‘æµ‹Linux ARP ,è·¯ç”±è¡¨çš„æ”¹å˜ã€‚å¦‚æœæœ‰æ›´æ–°ï¼Œè·¯ç”±ä¿¡æ¯ä¼šè¢«å‘é€ç»™RFserverã€‚&lt;/li>
&lt;li>&lt;strong>RFServer&lt;/strong> : ä¸€ä¸ªç‹¬ç«‹çš„appï¼Œç”¨æ¥è¿æ¥å¹¶ç®¡ç†è¿è¡Œåœ¨VMä¸­çš„RFClientå®ä¾‹ã€‚RFserverè´Ÿè´£ç»´æŠ¤RFclientå®ä¾‹ã€æ¥å£å’Œå¯¹åº”äº¤æ¢æœºã€ç«¯å£çš„æ˜ å°„å…³ç³»ã€‚å®ƒä¹Ÿå’Œä¸RFproxyè¿æ¥ï¼Œæ¥é…ç½®æµè¡¨&lt;/li>
&lt;li>&lt;strong>RFProxy&lt;/strong> ï¼šPOXçš„ä¸€ä¸ªapp,é€šè¿‡openflowåè®®ä¸ovsäº¤äº’ï¼Œç›‘å¬RFserverçš„æŒ‡ä»¤ï¼Œ&lt;/li>
&lt;/ul>
&lt;h2 id="vmrfclientå’Œovsçš„æ˜ å°„å…³ç³»">VMï¼ˆRFclientï¼‰å’ŒOVSçš„æ˜ å°„å…³ç³»&lt;/h2>
&lt;p>é…ç½®è¢«å­˜å‚¨åœ¨MongoDBä¸€ä¸ªé›†åˆä¸­&lt;/p>
&lt;ul>
&lt;li>VM å’ŒOVSçš„æ˜ å°„å…³ç³»&lt;/li>
&lt;li>virtual interfaceå’Œäº¤æ¢æœºç«¯å£çš„æ˜ å°„å…³ç³»beyond 1:1&lt;/li>
&lt;li>å¤šä¸ªæ§åˆ¶å™¨ç®¡ç†ç½‘ç»œ&lt;/li>
&lt;/ul>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>æ ¼å¼&lt;/th>
&lt;th>ç±»å‹&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>vm id, vm port, -, -, -, -, -&lt;/td>
&lt;td>é—²ç½®çš„client port&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>-, -, -, -, dp id, dp port, ct id&lt;/td>
&lt;td>é—²ç½®çš„datapath port&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>vm id, vm port, dp id, dp port, -, -, ct id&lt;/td>
&lt;td>client-datapathæ˜ å°„å…³ç³»&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>vm id, vm port, dp id, dp port, vs id, vs port, ct id&lt;/td>
&lt;td>æ¿€æ´»çš„ client-datapath&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>å…¶ä»–ä¸è™šæ‹Ÿäº¤æ¢æœºç›¸å…³çš„åŸŸ (vs_*)åœ¨è¿è¡Œæ—¶å®šä¹‰. The ct_id field æ ‡è¯†äº¤æ¢æœºè¿æ¥çš„æ§åˆ¶å™¨.(æ­¤æœºåˆ¶å…è®¸å¤šæ§åˆ¶å™¨ï¼‰&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>çŠ¶æ€å›¾ï¼š
&lt;img src="https://raw.githubusercontent.com/wiki/routeflow/RouteFlow/images/rfstates.png" align="center" >&lt;/p>
&lt;p>å½“äº¤æ¢æœºè¿å…¥ç½‘ç»œï¼ŒRFproxyä¼šå‘ŠçŸ¥RFserveräº¤æ¢æœºçš„æ¯ä¸ªç‰©ç†ç«¯å£ã€‚è¿™äº›datapathç«¯å£è¢«serveræ³¨å†Œä½œä¸ºç©ºé—²çš„datapathç«¯å£æˆ–ä½œä¸ºclient-datapathå…³è”ï¼›å‰è€…å‘ç”Ÿçš„æ¡ä»¶æ˜¯è¦ä¹ˆ&lt;strong>æ­£åœ¨è¢«æ³¨å†Œçš„datapathç«¯å£æ²¡æœ‰configuration&lt;/strong>ï¼Œè¦ä¹ˆ&lt;strong>å·²é…ç½®çš„clientç«¯å£ï¼ˆä¸æ­¤datapathç«¯å£å…³è”ï¼‰å°šæœªæ³¨å†Œ&lt;/strong>ã€‚ åè€…å‘ç”Ÿçš„æ¡ä»¶æ˜¯åœ¨&lt;strong>clientç«¯å£ï¼ˆåŸºäºthe configurationä¸æ­¤datapathå…³è”ï¼‰è¢«æ³¨å†Œä¸ºç©ºé—²&lt;/strong>ã€‚&lt;/p>
&lt;p>å½“ä¸€ä¸ªRFclientå¯åŠ¨ï¼Œä»–ä¼šå‘Šè¯‰serverå®ƒçš„ç«¯å£ã€‚è¿™äº›clientç«¯å£è¢«serveræ³¨å†Œä½œä¸ºç©ºé—²çš„clientç«¯å£æˆ–client-datapathå…³è”ã€‚å’Œä¸Šæ–‡çš„datapathç«¯å£è¡Œä¸ºæè¿°ç±»ä¼¼ã€‚&lt;/p>
&lt;p>å…³è”ä¹‹åï¼ŒRFserverè¦æ±‚clientè§¦å‘ä¸€ä¸ªæ¶ˆæ¯ï¼Œè¿™ä¸ªæ¶ˆæ¯å°†é€šè¿‡clientè¿æ¥çš„è™šæ‹Ÿäº¤æ¢æœºåˆ°è¾¾proxyã€‚è¿™æ ·proxyèƒ½æ„ŸçŸ¥clientå’Œè™šæ‹Ÿäº¤æ¢æœºä¹‹é—´çš„è¿æ¥ï¼Œé€šçŸ¥serverã€‚
ç„¶åserverå†³å®šæ€ä¹ˆå¤„ç†è¿™ä¸ªä¿¡æ¯ã€‚ä¸€èˆ¬åœ°ï¼Œproxyä¼šè¢«å‘½ä»¤é‡å®šå‘æ‰€æœ‰ä»è™šæ‹Ÿäº¤æ¢æœºåˆ°ä¸å®ƒå…³è”çš„ç‰©ç†äº¤æ¢æœºçš„æµï¼Œand vice-versaï¼ˆåä¹‹äº¦ç„¶ï¼‰.&lt;/p>
&lt;p>å½“äº¤æ¢æœºæ–­å¼€ç½‘ç»œï¼Œå®ƒçš„ç«¯å£ä»æ‰€æœ‰æ¶‰åŠåˆ°çš„å…³è”ä¸­ç§»é™¤ï¼Œç•™ä¸‹ç©ºé—²çš„clientç«¯å£ã€‚å¦‚æœdatapathå›æ¥äº†ï¼Œç³»ç»Ÿå°†æŠŠå®ƒå½“ä½œæ–°çš„datapathï¼Œå¦‚ä¸Šæ–‡æè¿°.&lt;/p>
&lt;h3 id="lxcç®€ä»‹">LXCç®€ä»‹&lt;/h3>
&lt;p>Linux Containerå®¹å™¨æ˜¯ä¸€ç§å†…æ ¸è™šæ‹ŸåŒ–æŠ€æœ¯ï¼Œç®€ç§°LXCã€‚æä¾›è½»é‡çº§çš„è™šæ‹ŸåŒ–ï¼Œä»¥ä¾¿éš”ç¦»è¿›ç¨‹å’Œèµ„æºï¼Œä½¿ç”¨ LXC çš„ä¼˜ç‚¹å°±æ˜¯ä¸éœ€è¦å®‰è£…å¤ªå¤šçš„è½¯ä»¶åŒ…ï¼Œä½¿ç”¨è¿‡ç¨‹ä¹Ÿä¸ä¼šå ç”¨å¤ªå¤šçš„èµ„æºã€‚LXC åœ¨èµ„æºç®¡ç†æ–¹é¢ä¾èµ– Linux å†…æ ¸çš„ cgroups ï¼ˆControl Groupsï¼‰ ç³»ç»Ÿï¼Œcgroups ç³»ç»Ÿæ˜¯ Linux å†…æ ¸æä¾›çš„ä¸€ä¸ªåŸºäºè¿›ç¨‹ç»„çš„èµ„æºç®¡ç†çš„æ¡†æ¶ï¼Œå¯ä»¥ä¸ºç‰¹å®šçš„è¿›ç¨‹ç»„é™å®šå¯ä»¥ä½¿ç”¨çš„èµ„æºã€‚&lt;/p>
&lt;h3 id="lxcå¸¸ç”¨å‘½ä»¤">lxcå¸¸ç”¨å‘½ä»¤&lt;/h3>
&lt;pre>&lt;code class="language-sh">1. å®‰è£…lxc
apt-get -y --force-yes install lxc
2. æ£€æŸ¥
lxc-checkconfig å¦‚æœæ‰€æœ‰é¡¹ç›®æ˜¾ç¤ºâ€œenabledâ€åˆ™OK
3. æ ¹æ®æ¨¡æ¿åˆ›å»ºå®¹å™¨
lxc-create -t ubuntu -n base
#-næ˜¯å®¹å™¨çš„åå­—;-t æ˜¯å®¹å™¨çš„æ¨¡æ¿ï¼ˆæ¨¡æ¿çš„ä¿å­˜è·¯å¾„æ˜¯ï¼š/usr/lib/lxc/templates/==æ¨¡æ¿éƒ½æ˜¯ä¸€ä¸ªè„šæœ¬æ–‡ä»¶ï¼Œæ‰§è¡Œäº†ä¸€ç³»åˆ—æ“ä½œï¼ŒåŒ…æ‹¬åˆ›å»ºå®¹å™¨çš„æ—¶å€™æŒ‚è½½æ–‡ä»¶ç³»ç»Ÿï¼Œé…ç½®ç½‘ç»œï¼Œå®‰è£…å¿…è¦è½¯ä»¶ï¼Œåˆ›å»ºç”¨æˆ·/å±ç»„ï¼Œè®¾ç½®å¯†ç ç­‰=
4. å¯åŠ¨ LXC è™šæ‹Ÿè®¡ç®—æœº
lxc-start -n testA ç¡®è®¤è´¦å·å’Œå¯†ç åç™»å½•è™šæ‹Ÿè®¡ç®—æœº
6ã€åˆ—å‡ºå½“å‰æ‰€æœ‰çš„å®¹å™¨
ã€€ã€€lxc-ls
7ã€ä½¿ç”¨ console ç™»å…¥å®¹å™¨
lxc-console -n testA â€“t 3
8ã€åœæ­¢è¿è¡Œä¸€ä¸ªå®¹å™¨
lxc-stop -n testA
9ã€è·å–ä¸€ä¸ªå®¹å™¨çš„çŠ¶æ€
lxc-info -n ol6ctr1
10ã€æŠŠä¸€ä¸ªå®¹å™¨é”€æ¯
lxc-destroy -n testA1
11ã€å¤åˆ¶ä¸€ä¸ªå®¹å™¨
lxc-clone -o testA -n ol6ctr2
12ã€æš‚åœæˆ–æ¢å¤ä¸€ä¸ªå®¹å™¨
lxc-freeze -n testA
lxc-unfreeze -n testA
13ã€ä¿®æ”¹ LXC ç½‘ç»œæ¥å£
vi /etc/default/lxc
14. ç”¨æˆ·ä¿®æ”¹åè¦é‡æ–°å¯åŠ¨ç½‘ç»œæœåŠ¡
service lxc-net restart
&lt;/code>&lt;/pre>
&lt;h2 id="å®éªŒ">å®éªŒ&lt;/h2>
&lt;h3 id="ç¼–è¯‘rfclient">ç¼–è¯‘rfclient&lt;/h3>
&lt;pre>&lt;code class="language-sh">make rfclient
&lt;/code>&lt;/pre>
&lt;p>#make build -&amp;gt; lib -&amp;gt; rfclient:&lt;br> ç¼–è¯‘rflib/ipc, rflib/types, rfclient/. ç›®å½•ä¸‹çš„æ–‡ä»¶åˆ° build/&lt;/p>
&lt;pre>&lt;code class="language-sh">./Makefile
export ROOT_DIR=.
export BUILD_DIR=./build
export LIB_DIR=./rflib
export MONGO_DIR=/usr/local/include/mongo
# ç¼–è¯‘äº§ç‰©å­˜æ”¾ç›®å½•
export BUILD_LIB_DIR=./build/lib
export BUILD_OBJ_DIR=./build/obj
export libdirs := ipc types ï¼ˆrflibä¸‹çš„ä¸¤ä¸ªç›®å½•ï¼‰
&lt;/code>&lt;/pre>
&lt;h3 id="åˆ›å»ºlxcå®¹å™¨åˆ‡åˆ°rftestç›®å½•æ‰§è¡Œcreate">åˆ›å»ºLXCå®¹å™¨ï¼šåˆ‡åˆ°rftestç›®å½•,æ‰§è¡Œ./create&lt;/h3>
&lt;p>createè„šæœ¬å†…å®¹ï¼š&lt;/p>
&lt;ol>
&lt;li>å®¹å™¨åˆ›å»ºè·¯å¾„/var/lib/lxc&lt;/li>
&lt;li>aptå®‰è£…lxc&lt;/li>
&lt;li>åˆ›å»ºé»˜è®¤LXCå®¹å™¨base&lt;/li>
&lt;/ol>
&lt;pre>&lt;code>lxc-create -t ubuntu -n base
-næ˜¯å®¹å™¨çš„åå­—;-t æ˜¯å®¹å™¨çš„æ¨¡æ¿ï¼ˆåœ¨/usr/lib/lxc/templates/é‡Œï¼Œæ¨¡æ¿å°±æ˜¯ä¸€ä¸ªè„šæœ¬æ–‡ä»¶ï¼Œå†…å®¹åŒ…æ‹¬åˆ›å»ºå®¹å™¨çš„æ—¶å€™æŒ‚è½½æ–‡ä»¶ç³»ç»Ÿï¼Œé…ç½®ç½‘ç»œï¼Œå®‰è£…å¿…è¦è½¯ä»¶ï¼Œåˆ›å»ºç”¨æˆ·/å±ç»„ï¼Œè®¾ç½®å¯†ç ç­‰==ï¼‰
&lt;/code>&lt;/pre>
&lt;ol start="4">
&lt;li>å®‰è£…quaggaã€tcpdumpåˆ°å®¹å™¨&lt;/li>
&lt;/ol>
&lt;pre>&lt;code class="language-sh">chroot $LXCDIR/base/rootfs apt-get install
#chrootå‘½ä»¤ç”¨æ¥åœ¨æŒ‡å®šçš„æ ¹ç›®å½•ä¸‹è¿è¡ŒæŒ‡ä»¤
&lt;/code>&lt;/pre>
&lt;ol start="5">
&lt;li>åŸºäºåˆšåˆšåˆ›å»ºçš„baseå®¹å™¨å’Œrftest/conifgä¸‹çš„å®¹å™¨é…ç½®æ–‡ä»¶ï¼Œå…‹éš†å…¶ä»–LXCå®¹å™¨&lt;/li>
&lt;/ol>
&lt;h3 id="1rftest1">1)rftest1&lt;/h3>
&lt;p>åˆ›å»º3ä¸ªLXCå®¹å™¨b1(172.31.1.2)ã€b2(172.31.2.2)ã€rfvm1ï¼ˆ192.169.1.100ï¼‰å…¶ä¸­rfvm1åˆ†åˆ«é…ä¸¤ä¸ªinterfaceä¸b1,b2è¿æ¥ã€‚è®¾æ³•ä½¿rfvm1å……å½“ç½‘å…³ï¼ˆè·¯ç”±å™¨ï¼‰ï¼Œä½¿å¾—b1 èƒ½ping é€š b2ã€‚
&lt;img src="https://github.com/routeflow/RouteFlow/wiki/images/rftest1_scenario.png" alt="image">&lt;/p>
&lt;p>RFä¸­çš„ä¸€å°è™šæ‹Ÿæœºå……å½“openflowäº¤æ¢æœºï¼Œè¿™å°è™šæ‹Ÿæœºä¸­è·¯ç”±è¡¨å’Œarpè¡¨å‘ç”Ÿä»»ä½•äº‹ï¼Œéƒ½è¢«å¤åˆ¶åˆ°äº¤æ¢æœºã€‚ RFClientè´Ÿè´£ç›‘å¬è¿™äº›è¡¨çš„äº‹ä»¶å¹¶ä¸”é€šçŸ¥rfserverã€‚
&lt;br>å› æ­¤è¦éƒ¨ç½²ä¸€å°LXCå®¹å™¨,å¦é…ä¸€ä¸ªifaceä½œä¸ºç®¡ç†æ¥å£è¿æ¥è¿™ä¸ªRFclientå’Œå…¶ä»–&lt;br>
&lt;strong>configæ–‡ä»¶:&lt;/strong>
æ­¤æ–‡ä»¶æ˜¯æ‰€æœ‰setupçš„åŸºç¡€ï¼Œæ ¹æ®æƒ…å†µä¿®æ”¹åå­—å’Œhwaddr&lt;br>
ç¬¬ä¸€ä¸ªiface(rfvm1.0)çš„hwaddrå°†è¢«ç”¨ä¸ºRFclientçš„ID.&lt;/p>
&lt;pre>&lt;code class="language-sh">lxc.utsname = rfvm1
lxc.network.type = veth
lxc.network.flags = up
lxc.network.hwaddr = 12:a0:a0:a0:a0:a0
lxc.network.link=lxcbr0
lxc.network.type = veth
lxc.network.flags = up
lxc.network.veth.pair= rfvm1.1
lxc.network.hwaddr = 12:a1:a1:a1:a1:a1
lxc.network.type = veth
lxc.network.flags = up
lxc.network.veth.pair = rfvm1.2
lxc.network.hwaddr = 12:a2:a2:a2:a2:a2
...
lxc.rootfs = /var/lib/lxc/rfvm1/rootfs
lxc.mount = /var/lib/lxc/rfvm1/fstab
&lt;/code>&lt;/pre>
&lt;p>rootfså’Œmountä¸ç”¨ä¿®æ”¹ã€‚å®¹å™¨çš„ä½ç½®ä¸€èˆ¬åœ¨ &lt;strong>/var/lib/lxc&lt;/strong>
&lt;strong>/etc/sysctl.conf&lt;/strong> ä¸­å¼€å¯IPv4è½¬å‘ï¼Œè®©rfvm1ä½œä¸ºç½‘å…³ï¼Œå…³é—­quagga
&lt;strong>/etc/rc.local&lt;/strong>è°ƒç”¨&lt;strong>root/run_rfclientè„šæœ¬&lt;/strong>å¼€å¯RFclientå®ä¾‹ã€‚&lt;/p>
&lt;p>==ReadMe==ï¼šAll these customizations, when structured like in the rftest/config/rfvm1 folder will be read the the rftest/create script, that will create any number of LXC containers based on a basic template.&lt;/p>
&lt;h4 id="æ‰§è¡Œrftest1">æ‰§è¡Œ./rftest1&lt;/h4>
&lt;p>æ­¤è„šæœ¬å¿…é¡»è¢«rootç”¨æˆ·æ‰§è¡Œã€‚&lt;br>
ä¸€ã€é‡ç½®ç¯å¢ƒ:&lt;/p>
&lt;pre>&lt;code class="language-sh">reset 1ï¼š
åˆå§‹åŒ–ovs:åˆ é™¤dp0,switch1ç½‘æ¡¥
åˆå§‹åŒ–VMsï¼šlxcå…³æœºï¼Œåˆ é™¤vmè·¯å¾„ä¸‹çš„rootfs/var/run/network/ifstate
æ–­å¼€mongodbï¼Œåˆ é™¤æ•°æ®rfvm1è·¯å¾„ä¸‹çš„rootfs/opt/rfclient
trap &amp;quot;reset 0; exit 0&amp;quot; INT
#å½“è„šæœ¬ç¨‹åºæ”¶åˆ°INTå‘½ä»¤ï¼ˆè¢«ä¸­æ–­æ—¶ï¼‰ï¼Œæ‰§è¡Œreset 0; exit 0å®Œæˆæ¸…ç†å·¥ä½œ
é…ç½®å®¹å™¨çš„ç®¡ç†æ¥å£ï¼šifconfig lxcbr0 $MONGODB_ADDR(192.168.10.1) up
sed -i &amp;quot;/bind_ip/c\bind_ip = 127.0.0.1,$MONGODB_ADDR&amp;quot; $MONGODB_CON
#ç”¨bind_ip=127.0.0.1,192.168.10.1å–ä»£bind_ipè¡Œ
é‡å¯mongodb
wait_port_listen $MONGODB_PORT(27017)
# é˜»å¡æ‰§è¡Œç›´åˆ°åœ¨æŒ‡å®šç«¯å£ç›‘å¬åˆ°ä¸€ä¸ªsocketå¼€å¯ã€‚
# MongoDBæœåŠ¡å™¨ï¼šç›‘å¬æ­¤ç½‘æ¡¥ï¼Œç¡®ä¿å®¹å™¨èƒ½è¿æ¥åˆ° Routeflowæ¶æ„ã€‚
&lt;/code>&lt;/pre>
&lt;p>äºŒã€é…ç½®LXC å®¹å™¨&lt;strong>rfvm1&lt;/strong>ä½œä¸ºRFclientè¿è¡Œ&lt;/p>
&lt;pre>&lt;code>æ–°å»ºrfclientç›®å½•
mkdir /var/lib/lxc/rfvm1/rootfs/opt/rfclient
å¤åˆ¶rfclientå¯æ‰§è¡Œç¨‹åº
cp build/rfclient /var/lib/lxc/rfvm1/rootfs/opt/rfclient/rfclient
åˆ›å»ºè„šæœ¬run_rfclient.shåœ¨/var/lib/lxc/rfvm1/rootfs/rootä¸‹ç”¨äºå¯åŠ¨RFclient ï¼ˆè„šæœ¬å†…å®¹ï¼šsleep 5
/opt/rfclient/rfclient&amp;gt; /var/log/rfclient.logï¼‰
å¯åŠ¨pox
#ä½œä¸ºæ§åˆ¶å™¨appçš„RFproxyä¹Ÿéšä¹‹å¯åŠ¨,æ§åˆ¶å™¨æ—¥å¿—ç­‰çº§è®¾ä¸ºINFO
wait_port_listen $Contorller_PORT(6633)
å¯åŠ¨rfserver
./rfserver/rfserver.py rftest/rftest1config.csv &amp;amp;
# rftest1config.csvæ˜¯vm_id,vm_port,ct_id,dp_id,dp_portæ˜ å°„è¡¨
å¯åŠ¨å®¹å™¨å¹¶ç™»å½•ï¼šlxc-start -n rfvm1 -d
&lt;/code>&lt;/pre>
&lt;p>ä¸‰ã€è¿æ¥å®¹å™¨åˆ°æ­£åœ¨è¿è¡Œæ•°æ®åº“æœåŠ¡çš„hosts&lt;/p>
&lt;pre>&lt;code class="language-sh">ovsæ·»åŠ ç½‘æ¡¥dp0ï¼Œç«¯å£rfvm1.1ï¼Œrfvm1.2,dpid=7266767372667673
dp0è¿æ¥æ§åˆ¶å™¨ï¼šovs-vsctl set-controller dp0 tcp:127.0.0.1:$CONTROLLER_PORTï¼ˆ6633ï¼‰
å¯åŠ¨hostsï¼ˆå®¹å™¨b1ã€b2)
ovsæ·»åŠ ç½‘æ¡¥switch1,ç«¯å£b1.0ã€b2.0ï¼Œdpid=99
switch1è¿æ¥åˆ°æ§åˆ¶å™¨
&lt;/code>&lt;/pre>
&lt;p>åœ¨hoståˆ›å»ºovsç½‘æ¡¥ï¼Œè¿æ¥&lt;em>å®¹å™¨çš„ç®¡ç†æ¥å£&lt;/em>ï¼ˆrfvm1çš„eth0ï¼‰
&lt;strong>br0&lt;/strong>ï¼Œ192.169.1.1ï¼Œè¿™ä¸ªåœ°å€è¢«å†™æ­»åœ¨rflib/defs.hï¼ˆç»™RFclientå’ŒNOX-RFproxyä»¥åŠRFserverå’ŒPOX-RFproxyï¼‰
å››ã€ç™»å½•åˆ°å®¹å™¨host1
lxc-console -n b1ï¼ˆç”¨æˆ·åå¯†ç éƒ½æ˜¯ubuntuï¼‰
åœ¨b1ï¼ˆ172.31.1.2ï¼‰é‡Œping -c 3 172.31.2.2ï¼ˆb2ï¼‰&lt;/p>
&lt;p>pingé€šçš„åŸå› ï¼š
rfserverç»´æŠ¤æ˜ å°„è¡¨&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>vm_id&lt;/th>
&lt;th>vm_port&lt;/th>
&lt;th>ct_id&lt;/th>
&lt;th>dp_id,dp_port&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>12A0A0A0A0A0&lt;/td>
&lt;td>1&lt;/td>
&lt;td>0&lt;/td>
&lt;td>99&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>12A0A0A0A0A0&lt;/td>
&lt;td>2&lt;/td>
&lt;td>0&lt;/td>
&lt;td>99&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>å®¹å™¨idæ˜¯12A0A0A0A0A0ï¼Œå®ƒçš„æ¥å£eth1å¯¹åº”dpidï¼ˆswitchï¼‰çš„æ¥å£1,&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>æ¥å£eth2å¯¹åº”dpidï¼ˆswitchï¼‰çš„æ¥å£2&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>Did you find this page helpful? Consider sharing it ğŸ™Œ&lt;/p></description></item><item><title>ä¸ªäººåšå®¢ç»´æŠ¤å‡ºç°çš„é—®é¢˜</title><link>/post/website/</link><pubDate>Wed, 07 Oct 2020 00:00:00 +0000</pubDate><guid>/post/website/</guid><description>&lt;h2 id="hexoç«™ç‚¹æ‰“å¼€æ˜¾ç¤ºhstsé—®é¢˜">hexoç«™ç‚¹æ‰“å¼€æ˜¾ç¤ºHSTSé—®é¢˜&lt;/h2>
&lt;p>ä»Šå¤©è®¿é—®è‡ªå·±çš„åšå®¢ç½‘ç«™æ—¶ï¼Œæµè§ˆå™¨å¹¶æ²¡æœ‰ç›´æ¥å‡ºç°åšå®¢é¦–é¡µï¼Œè€Œæ˜¯å‡ºç°äº†HSTSçš„é¡µé¢ï¼ˆè¿™é‡ŒçŒœæµ‹åº”è¯¥æ˜¯è¯ä¹¦å‡ºäº†é—®é¢˜ï¼‰ã€‚
ä½¿ç”¨chrome://net-internals/#hstsåˆ é™¤åŸŸåçš„å®‰å…¨ç­–ç•¥ã€‚åˆ·æ–°åï¼Œç‚¹å‡»è®¿é—®ä¸å®‰å…¨çš„ç½‘ç«™ï¼Œæ‰è¿›å…¥äº†åšå®¢é¦–é¡µã€‚ä½†æ˜¯å‘ç°æµè§ˆå™¨çš„åœ°å€æ å·¦ä¾§æ˜¾ç¤ºçº¢è‰²çš„ä¸å®‰å…¨ï¼Œç‚¹å‡»æŸ¥çœ‹è¯¦æƒ…æœç„¶æ˜¯è¯ä¹¦æœ‰é—®é¢˜ã€‚&lt;/p>
&lt;p>è¿™é‡Œå¾—ç®€è¦è¯´æ˜ä¸€ä¸‹åšä¸»çš„ç½‘ç«™æ­å»ºæ–¹å¼ï¼šæ˜¯ç”¨hexoæ­å»ºçš„é™æ€ç½‘ç«™ï¼Œæºç æ‰˜ç®¡åœ¨githubä¸Šï¼Œé‡‡ç”¨travis CIè¿›è¡ŒæŒç»­éƒ¨ç½²ä¸é›†æˆï¼Œå³å½“æ­¤githubé¡¹ç›®æ›´æ–°æ—¶travis CIä¼šæ‰§è¡Œ.travisè„šæœ¬çš„å‘½ä»¤ï¼Œ
è‡ªåŠ¨è¿›è¡Œhexoçš„é‡æ–°æ„å»ºå¹¶éƒ¨ç½²ï¼ŒæŠŠç”Ÿæˆçš„å‰ç«¯ä»£ç ä½œä¸ºé¡¹ç›®ä¸€å¼ä¸¤åˆ†æäº¤åˆ°githubå’Œcodingæ‰˜ç®¡ã€‚
åˆ†åˆ«å¯åŠ¨codingå’Œgithubçš„pageæœåŠ¡ï¼Œå¹¶ä¸”å¼ºè¡Œå¼€å¯HTTPSã€‚è¿™æ—¶å€™é€šè¿‡&lt;username>.github.ioå’Œ&lt;username>.coding,meå°±èƒ½è®¿é—®äº†ã€‚
ç„¶åä¸‡ç½‘ç”³è¯·äº†ä¸€ä¸ªåŸŸåï¼Œåˆ†åˆ«å›åˆ°codingå’Œgithubé…ç½®pageæœåŠ¡ç»‘å®šè‡ªå®šä¹‰åŸŸåã€‚
ç„¶ååœ¨ç½‘ç«™DNSè§£ææ§åˆ¶å°é…ç½®å›½å†…å¤–åˆ†æµï¼Œå³å›½å†…ipè®¿é—®åŸŸåè¿›å…¥çš„æ˜¯codingçš„pageï¼Œå›½å¤–ipè®¿é—®çš„æ˜¯githubçš„pageã€‚ç»“æŸã€‚&lt;/p>
&lt;p>æ‰€ä»¥ç°åœ¨ç½‘ç«™å‡ºç°é—®é¢˜ï¼Œé¦–å…ˆéªŒè¯ä¸€ä¸‹çŒœæµ‹ã€‚äºæ˜¯æµè§ˆå™¨åˆ‡æ¢åˆ°ä»£ç†æ¨¡å¼ï¼Œåˆ·æ–°åšå®¢é¦–é¡µï¼Œä¸€åˆ‡æ­£å¸¸ã€‚è¿™è¯´æ˜ä»…ä»…æ˜¯codingçš„pageæœåŠ¡å‡ºç°äº†é—®é¢˜ã€‚äºæ˜¯è®¿é—®codingå‘ç°pageè®¾ç½®é‡Œçš„SSL/TLSå®‰å…¨è¯ä¹¦çŠ¶æ€æ˜¾ç¤ºé”™è¯¯ã€‚æˆ‘å…ˆç‚¹å‡»äº†ç”³è¯·ï¼Œé‡è¯•ï¼Œä»ç„¶æ˜¯é”™è¯¯ï¼Œé¼ æ ‡æ”¾åˆ°é”™è¯¯ä¸Šæ˜¾ç¤ºçš„è¯¦æƒ…æ˜¯urn:acme:error:unauthorized invalid response from [http://exmaple.com/.well-known/acme-challenge/xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx]&lt;/p>
&lt;h3 id="åˆ†æ">åˆ†æ&lt;/h3>
&lt;p>æŸ¥é˜…codingçš„&lt;a href="https://dev.tencent.com/help/doc/faq/coding-pages/ssh/tls#urnacmeerrorunauthorized" target="_blank" rel="noopener">è‡ªå®šä¹‰åŸŸåçš„å¸®åŠ©æ–‡æ¡£&lt;/a>åæ‰çŸ¥é“è¿™æ˜¯æ— æ³•è·å–æ­£ç¡®çš„åŸŸåéªŒè¯ä¿¡æ¯ã€‚å¯èƒ½æœ‰ä¸¤ç§åŸå› ï¼š&lt;/p>
&lt;ul>
&lt;li>DNS çš„ CNAME è®°å½•æ˜¯å¦è®¾ç½®æ­£ç¡®&lt;/li>
&lt;li>&lt;strong>åŸŸåçš„ DNS å°†æµ·å¤–çº¿è·¯è§£æåˆ° Coding Pages çš„æœåŠ¡å™¨&lt;/strong>&lt;/li>
&lt;/ul>
&lt;p>è€ƒè™‘åˆ°ä¹‹å‰ç½‘ç«™è®¿é—®éƒ½æ­£å¸¸ï¼Œä¸€ç›´æ²¡æœ‰ä¿®æ”¹è¿‡DNSè®¾ç½®ï¼Œæ‰€ä»¥ä¸å¤ªå¯èƒ½æ˜¯ç¬¬ä¸€ä¸ªåŸå› ã€‚æŒ‰ç…§ç¬¬äºŒä¸ªåŸå› æ¨æµ‹å¯èƒ½æ˜¯codingè¯ä¹¦è¿‡æœŸäº†ï¼Œé‡æ–°ç”³è¯·çš„æ—¶å€™åŸŸåè§£ææ²¡æœ‰ä½¿ç”¨æ­£ç¡®çš„åˆ†çº¿è·¯è§£æã€‚æ³¨æ„åˆ°ä¸Šé¢çš„xxxxxxä¸­åŒ…å«ä¸€ä¸ªIPåœ°å€ã€‚è¿™ä¸ªå¾ˆå¯èƒ½æ˜¯ç½‘ç«™æä¾›pageæœåŠ¡çš„æœåŠ¡å™¨åœ°å€ã€‚äºæ˜¯ping &lt;username>.github.ioå’Œ&lt;username>.coding.meæŸ¥çœ‹åŸŸåæœåŠ¡å™¨çš„ipï¼Œå‘ç°æœç„¶ã€‚é‚£ä¸ªipæ­£å¥½æ˜¯&lt;username>.github.ioçš„åŸŸåipã€‚è¿™å°±å¯ä»¥è§£é‡Šäº†ï¼Œcodingçš„è¯ä¹¦ç”³è¯·ï¼Œè¿”å›çš„å´æ˜¯githubçš„åœ°å€ã€‚æ‰€ä»¥åŸŸï¼Œã€‚&lt;/p>
&lt;p>æ‰¾åˆ°é—®é¢˜æ‰€åœ¨åï¼Œæ§åˆ¶å°ï¼Œå…ˆæš‚æ—¶å°†è§£æåˆ°githubçš„ä¸¤æ¡è®°å½•æš‚åœï¼Œåªè¿”å›coding Pagesç•Œé¢ï¼Œå†å›åˆ°codingé‡æ–°ç”³è¯·è¯ä¹¦ã€‚æç¤º30åˆ†é’Ÿåªèƒ½ç”³è¯·ä¸€æ¬¡ã€‚å¥½å§ã€‚äºæ˜¯æŠŠè¿™ä¸ªæ·»åŠ åˆ°TODO Listã€‚åé¢å›æ¥ç”³è¯·SSL/TLSå®‰å…¨è¯ä¹¦çš„çŠ¶æ€å°±å˜æˆäº†æ­£å¸¸ã€‚&lt;/p>
&lt;h2 id="academic-theme-for-hugo">Academic theme for Hugo&lt;/h2>
&lt;ol>
&lt;li>æ›´æ–°ä¸»é¢˜å¤±è´¥&lt;/li>
&lt;/ol>
&lt;p>åœ¨è„šæœ¬update_academic.shçš„view_updateä¸­åŠ å…¥git submodule initå³å¯
2. å…³äºacademicä¸»é¢˜ç»å¤§å¤šæ•°é—®é¢˜éƒ½å¯ä»¥åœ¨&lt;a href="https://github.com/gcushen/hugo-academic/issues" target="_blank" rel="noopener">hugo-academic-issues&lt;/a>ä¸­å¾—åˆ°è§£ç­”ã€‚ä¸å¾—ä¸æ‰¿è®¤è¿™æ˜¯hugoé‡Œç»´æŠ¤æœ€å¥½çš„ä¸€ä¸ªé¡¹ç›®ï¼Œæ²¡æœ‰ä¹‹ä¸€ã€‚&lt;/p>
&lt;p>Did you find this page helpful? Consider sharing it ğŸ™Œ&lt;/p></description></item><item><title>åŠ å¿«apt/maven/bazel/npm/pipæ‹‰å–é€Ÿåº¦</title><link>/post/mirror/</link><pubDate>Wed, 07 Oct 2020 00:00:00 +0000</pubDate><guid>/post/mirror/</guid><description>&lt;h2 id="apt">&lt;code>APT&lt;/code>&lt;/h2>
&lt;pre>&lt;code class="language-shell">deb http://us.archive.ubuntu.com/ubuntu/ bionic main restricted universe multiverse
deb http://us.archive.ubuntu.com/ubuntu/ bionic-security main restricted universe multiverse
deb http://us.archive.ubuntu.com/ubuntu/ bionic-updates main restricted universe multiverse
deb http://us.archive.ubuntu.com/ubuntu/ bionic-proposed main restricted universe multiverse
deb http://us.archive.ubuntu.com/ubuntu/ bionic-backports main restricted universe multiverse
deb-src http://us.archive.ubuntu.com/ubuntu/ bionic main restricted universe multiverse
deb-src http://us.archive.ubuntu.com/ubuntu/ bionic-security main restricted universe multiverse
deb-src http://us.archive.ubuntu.com/ubuntu/ bionic-updates main restricted universe multiverse
deb-src http://us.archive.ubuntu.com/ubuntu/ bionic-proposed main restricted universe multiverse
deb-src http://us.archive.ubuntu.com/ubuntu/ bionic-backports main restricted universe multiverse
&lt;/code>&lt;/pre>
&lt;p>æ³¨æ„ï¼šéœ€è¦æ ¹æ®éœ€æ±‚æ¥æ”¹source.listã€‚å¦‚ï¼šå°†usæ›¿æ¢æˆcnå³å˜æˆä¸­å›½ï¼›å°†bionicæ›¿æ¢æˆå¯¹åº”çš„ubuntuç‰ˆæœ¬ä»£å·ï¼›å¯¹äºé•œåƒç½‘ç«™ç”¨mirros.&amp;lt;åŸŸå&amp;gt;æ›¿æ¢us.archive.ubuntu.comï¼›&lt;/p>
&lt;pre>&lt;code class="language-shell">deb http://mirrors.xjtu.edu.cn/ubuntu/ bionic main multiverse restricted universe
deb http://mirrors.xjtu.edu.cn/ubuntu/ bionic-backports main multiverse restricted universe
deb http://mirrors.xjtu.edu.cn/ubuntu/ bionic-proposed main multiverse restricted universe
deb http://mirrors.xjtu.edu.cn/ubuntu/ bionic-security main multiverse restricted universe
deb http://mirrors.xjtu.edu.cn/ubuntu/ bionic-updates main multiverse restricted universe
deb-src http://mirrors.xjtu.edu.cn/ubuntu/ bionic main multiverse restricted universe
deb-src http://mirrors.xjtu.edu.cn/ubuntu/ bionic-backports main multiverse restricted universe
deb-src http://mirrors.xjtu.edu.cn/ubuntu/ bionic-proposed main multiverse restricted universe
deb-src http://mirrors.xjtu.edu.cn/ubuntu/ bionic-security main multiverse restricted universe
deb-src http://mirrors.xjtu.edu.cn/ubuntu/ bionic-updates main multiverse restricted universe
&lt;/code>&lt;/pre>
&lt;pre>&lt;code class="language-shell"># newer versions of the distribution.
deb http://mirrors.aliyun.com/ubuntu bionic main restricted
# deb-src http://mirrors.aliyun.com/ubuntu bionic main restricted
## Major bug fix updates produced after the final release of the
## distribution.
deb http://mirrors.aliyun.com/ubuntu bionic-updates main restricted
# deb-src http://mirrors.aliyun.com/ubuntu bionic-updates main restricted
## N.B. software from this repository is ENTIRELY UNSUPPORTED by the Ubuntu
## team. Also, please note that software in universe WILL NOT receive any
## review or updates from the Ubuntu security team.
deb http://mirrors.aliyun.com/ubuntu bionic universe
# deb-src http://mirrors.aliyun.com/ubuntu bionic universe
deb http://mirrors.aliyun.com/ubuntu bionic-updates universe
# deb-src http://mirrors.aliyun.com/ubuntu bionic-updates universe
## N.B. software from this repository is ENTIRELY UNSUPPORTED by the Ubuntu
## team, and may not be under a free licence. Please satisfy yourself as to
## your rights to use the software. Also, please note that software in
## multiverse WILL NOT receive any review or updates from the Ubuntu
## security team.
deb http://mirrors.aliyun.com/ubuntu bionic multiverse
# deb-src http://mirrors.aliyun.com/ubuntu bionic multiverse
deb http://mirrors.aliyun.com/ubuntu bionic-updates multiverse
# deb-src http://mirrors.aliyun.com/ubuntu bionic-updates multiverse
## N.B. software from this repository may not have been tested as
## extensively as that contained in the main release, although it includes
## newer versions of some applications which may provide useful features.
## Also, please note that software in backports WILL NOT receive any review
## or updates from the Ubuntu security team.
deb http://mirrors.aliyun.com/ubuntu bionic-backports main restricted universe multiverse
# deb-src http://mirrors.aliyun.com/ubuntu bionic-backports main restricted universe multiverse
## Uncomment the following two lines to add software from Canonical's
## 'partner' repository.
## This software is not part of Ubuntu, but is offered by Canonical and the
## respective vendors as a service to Ubuntu users.
# deb http://archive.canonical.com/ubuntu bionic partner
# deb-src http://archive.canonical.com/ubuntu bionic partner
deb http://mirrors.aliyun.com/ubuntu bionic-security main restricted
# deb-src http://mirrors.aliyun.com/ubuntu bionic-security main restricted
deb http://mirrors.aliyun.com/ubuntu bionic-security universe
# deb-src http://mirrors.aliyun.com/ubuntu bionic-security universe
deb http://mirrors.aliyun.com/ubuntu bionic-security multiverse
# deb-src http://mirrors.aliyun.com/ubuntu bionic-security multiverse
&lt;/code>&lt;/pre>
&lt;h2 id="maven">Maven&lt;/h2>
&lt;p>åœ¨.m2/setting.xmlæ›¿æ¢å¯¹åº”éƒ¨åˆ†ä¸ºä»¥ä¸‹å†…å®¹ï¼š&lt;/p>
&lt;pre>&lt;code class="language-xml">&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot;?&amp;gt;
&amp;lt;settings xmlns=&amp;quot;http://maven.apache.org/SETTINGS/1.0.0&amp;quot;
xmlns:xsi=&amp;quot;http://www.w3.org/2001/XMLSchema-instance&amp;quot;
xsi:schemaLocation=&amp;quot;http://maven.apache.org/SETTINGS/1.0.0 http://maven.apache.org/xsd/settings-1.0.0.xsd&amp;quot;&amp;gt;
&amp;lt;!--
&amp;lt;localRepository&amp;gt;~/.m2&amp;lt;/localRepository&amp;gt;
--&amp;gt;
&amp;lt;pluginGroups&amp;gt;
&amp;lt;/pluginGroups&amp;gt;
&amp;lt;proxies&amp;gt;
&amp;lt;/proxies&amp;gt;
&amp;lt;servers&amp;gt;
&amp;lt;/servers&amp;gt;
&amp;lt;!--
&amp;lt;mirrorOf&amp;gt;central&amp;lt;/mirrorOf&amp;gt; è¿™é‡Œæœ€å¥½ä¸è¦å†™æˆ*å·ï¼Œå¦åˆ™ä½ é¡¹ç›®ä¸­çš„pomä¸­é…ç½®repositoryä¸ç”Ÿæ•ˆ
--&amp;gt;
&amp;lt;mirrors&amp;gt;
&amp;lt;mirror&amp;gt;
&amp;lt;id&amp;gt;nexus-aliyun&amp;lt;/id&amp;gt;
&amp;lt;mirrorOf&amp;gt;central&amp;lt;/mirrorOf&amp;gt;
&amp;lt;name&amp;gt;Nexus Aliyun&amp;lt;/name&amp;gt;
&amp;lt;url&amp;gt;http://maven.aliyun.com/nexus/content/groups/public/&amp;lt;/url&amp;gt;
&amp;lt;/mirror&amp;gt;
&amp;lt;/mirrors&amp;gt;
&amp;lt;profiles&amp;gt;
&amp;lt;profile&amp;gt;
&amp;lt;repositories&amp;gt;
&amp;lt;repository&amp;gt;
&amp;lt;id&amp;gt;nexus&amp;lt;/id&amp;gt;
&amp;lt;name&amp;gt;local private nexus&amp;lt;/name&amp;gt;
&amp;lt;url&amp;gt;http://maven.aliyun.com/nexus/content/groups/public/&amp;lt;/url&amp;gt;
&amp;lt;releases&amp;gt;
&amp;lt;enabled&amp;gt;true&amp;lt;/enabled&amp;gt;
&amp;lt;/releases&amp;gt;
&amp;lt;snapshots&amp;gt;
&amp;lt;enabled&amp;gt;false&amp;lt;/enabled&amp;gt;
&amp;lt;/snapshots&amp;gt;
&amp;lt;/repository&amp;gt;
&amp;lt;/repositories&amp;gt;
&amp;lt;pluginRepositories&amp;gt;
&amp;lt;pluginRepository&amp;gt;
&amp;lt;id&amp;gt;nexus&amp;lt;/id&amp;gt;
&amp;lt;name&amp;gt;local private nexus&amp;lt;/name&amp;gt;
&amp;lt;url&amp;gt;http://maven.aliyun.com/nexus/content/groups/public/&amp;lt;/url&amp;gt;
&amp;lt;releases&amp;gt;
&amp;lt;enabled&amp;gt;true&amp;lt;/enabled&amp;gt;
&amp;lt;/releases&amp;gt;
&amp;lt;snapshots&amp;gt;
&amp;lt;enabled&amp;gt;true&amp;lt;/enabled&amp;gt;
&amp;lt;/snapshots&amp;gt;
&amp;lt;/pluginRepository&amp;gt;
&amp;lt;/pluginRepositories&amp;gt;
&amp;lt;/profile&amp;gt;
&amp;lt;/profiles&amp;gt;
&amp;lt;/settings&amp;gt;
&lt;/code>&lt;/pre>
&lt;h2 id="pip">pip&lt;/h2>
&lt;p>å¯¹æŸä¸ªåŒ…ä½¿ç”¨æ¸…åæºï¼šsudo pip2 install -i &lt;a href="https://pypi.tuna.tsinghua.edu.cn/simple">https://pypi.tuna.tsinghua.edu.cn/simple&lt;/a> [package-name]&lt;/p>
&lt;p>è¦ä¸€ç›´ç”Ÿæ•ˆç”¨å‘½ä»¤å­˜åœ¨é…ç½®æ–‡ä»¶ä¸­ pip3 config set global.index-url &lt;a href="https://pypi.tuna.tsinghua.edu.cn/simple">https://pypi.tuna.tsinghua.edu.cn/simple&lt;/a>&lt;/p>
&lt;h2 id="bazelå’Œnpm">bazelå’Œnpm&lt;/h2>
&lt;p>æ·»åŠ &lt;/p>
&lt;p>&amp;ndash;registry &lt;a href="https://registry.npm.taobao.org">https://registry.npm.taobao.org&lt;/a> å¯¹ç¼–è¯‘æ—¶ä¸‹è½½çš„æ‰€æœ‰ä¾èµ–ä½¿ç”¨æ·˜å®é•œåƒ&lt;/p>
&lt;p>æˆ–è€…å¯¹éƒ¨åˆ†ä¾èµ–ä½¿ç”¨é•œåƒï¼Œä¾‹å¦‚phantomjs&lt;/p>
&lt;p>export PHANTOMJS_CDNURL=https://npm.taobao.org/mirrors/phantomjs&lt;/p>
&lt;h2 id="æˆ‘çš„bashç¯å¢ƒå˜é‡é…ç½®">æˆ‘çš„bashç¯å¢ƒå˜é‡é…ç½®&lt;/h2>
&lt;pre>&lt;code>export PROXY_IP=127.0.0.1
export PROXY_PORT=8118
export JAVA_HOME=/usr/lib/jvm/java-8-oracle
#export JAVA_HOME=&amp;quot;$(dirname $(dirname $(realpath $(which javac))))&amp;quot;
#export M2_HOME=/usr/lib/mvn/mvn
#export GOPATH=$HOME/go
#export JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64
export JRE_HOME=$JAVA_HOME/jre
export CLASSPATH=.:$JAVA_HOME/lib:/lib:
export M2_HOME=/usr/share/maven
export MAVEN_OPTS=&amp;quot;-Xms256m&amp;quot;
# WORKSPACE
export ONOS_ROOT=~/onos
source $ONOS_ROOT/tools/dev/bash_profile
export PATH=&amp;quot;$PATH:%HOME/bin&amp;quot;
export LC_ALL=&amp;quot;en_US.UTF-8&amp;quot;
# alias
alias speed=&amp;quot;watch -n 1 \&amp;quot;ifconfig ens33 |grep bytes\&amp;quot;&amp;quot;
alias localproxy=&amp;quot;sudo systemctl start v2ray.service ; sudo systemctl start privoxy.service&amp;quot;
alias localunproxy=&amp;quot;sudo systemctl stop v2ray.service ; sudo systemctl stop privoxy.service&amp;quot;
alias proxy=&amp;quot;export HTTP_PROXY=http://$PROXY_IP:$PROXY_PORT; export HTTPS_PROXY=https://$PROXY_IP:$PROXY_PORT; export http_proxy=http://$PROXY_IP:$PROXY_PORT; export https_proxy=https://$PROXY_IP:$PROXY_PORT&amp;quot;
alias unproxy=&amp;quot;unset HTTP_PRPXY; unset HTTPS_PROXY&amp;quot;
alias fishunproxy=&amp;quot;set -e HTTP_PROXY ; set -e HTTPS_PROXY; set -e http_proxy; set -e https_proxy&amp;quot;
alias gitproxy=&amp;quot;git config --global http.proxy http://$PROXY_IP:$PROXY_PORT;git config --global https.proxy http://$PROXY_IP:$PROXY_PORT &amp;quot;
alias gitunproxy=&amp;quot;git config --global --unset-all http.proxy;git config --global --unset-all https.proxy &amp;quot;
alias chrome=&amp;quot;chromium-browser --proxy-server=socks5://127.0.0.1:1080&amp;quot;
alias pipmirror=&amp;quot;pip3 config set global.index-url https://pypi.tuna.tsinghua.edu.cn/simple&amp;quot;
alias pipunmirror=&amp;quot;pip3 config unset global.index-url&amp;quot;
alias myip=&amp;quot;curl cip.cc&amp;quot;
#alias myip=&amp;quot;curl ifconfig.cc&amp;quot;
&lt;/code>&lt;/pre>
&lt;p>Did you find this page helpful? Consider sharing it ğŸ™Œ&lt;/p></description></item></channel></rss>