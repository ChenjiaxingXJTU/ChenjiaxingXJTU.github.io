<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=generator content="Wowchemy 4.8.0 for Hugo"><meta name=author content="笼鹰"><meta name=description content="用RouteFlow在SDN网络中实现路由器"><link rel=alternate hreflang=en-us href=/post/routeflow/><link rel=preconnect href=https://fonts.gstatic.com crossorigin><meta name=theme-color content="#2962ff"><script src=/js/mathjax-config.js></script><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css integrity="sha256-FMvZuGapsJLjouA6k7Eo2lusoAX9i0ShlWFG6qt7SLc=" crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/styles/github.min.css crossorigin=anonymous title=hl-light><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/styles/dracula.min.css crossorigin=anonymous title=hl-dark disabled><script src=https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.2.2/lazysizes.min.js integrity="sha512-TmDwFLhg3UA4ZG0Eb4MIyT1O1Mb+Oww5kFG0uHqXsdbyZz9DcvYQhKpGgNkamAI6h2lGGZq2X8ftOJvF/XjTUg==" crossorigin=anonymous async></script><script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js integrity crossorigin=anonymous async></script><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Montserrat:400,700%7CRoboto:400,400italic,700%7CRoboto+Mono&display=swap"><link rel=stylesheet href=/css/wowchemy.css><script async src="https://www.googletagmanager.com/gtag/js?id=UA-155136732-3"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}
function trackOutboundLink(url,target){gtag('event','click',{'event_category':'outbound','event_label':url,'transport_type':'beacon','event_callback':function(){if(target!=='_blank'){document.location=url;}}});console.debug("Outbound link clicked: "+url);}
function onClickCallback(event){if((event.target.tagName!=='A')||(event.target.host===window.location.host)){return;}
trackOutboundLink(event.target,event.target.getAttribute('target'));}
gtag('js',new Date());gtag('config','UA-155136732-3',{});document.addEventListener('click',onClickCallback,false);</script><link rel=manifest href=/index.webmanifest><link rel=icon type=image/png href=/images/icon_hu0ad9a760d4acc21697f10ad9ba07207a_233385_32x32_fill_lanczos_center_2.png><link rel=apple-touch-icon type=image/png href=/images/icon_hu0ad9a760d4acc21697f10ad9ba07207a_233385_192x192_fill_lanczos_center_2.png><link rel=canonical href=/post/routeflow/><meta property="twitter:card" content="summary_large_image"><meta property="twitter:site" content="@ChenjiaxingXjtu"><meta property="twitter:creator" content="@ChenjiaxingXjtu"><meta property="og:site_name" content="笼鹰的自习室"><meta property="og:url" content="/post/routeflow/"><meta property="og:title" content="RouteFlow | 笼鹰的自习室"><meta property="og:description" content="用RouteFlow在SDN网络中实现路由器"><meta property="og:image" content="/post/routeflow/featured.jpg"><meta property="twitter:image" content="/post/routeflow/featured.jpg"><meta property="og:locale" content="en-us"><meta property="article:published_time" content="2020-10-07T00:00:00+00:00"><meta property="article:modified_time" content="2020-10-07T00:00:00+00:00"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"/post/routeflow/"},"headline":"RouteFlow","image":["/post/routeflow/featured.jpg"],"datePublished":"2020-10-07T00:00:00Z","dateModified":"2020-10-07T00:00:00Z","author":{"@type":"Person","name":"笼鹰"},"publisher":{"@type":"Organization","name":"笼鹰的自习室","logo":{"@type":"ImageObject","url":"/images/icon_hu0ad9a760d4acc21697f10ad9ba07207a_233385_192x192_fill_lanczos_center_2.png"}},"description":"用RouteFlow在SDN网络中实现路由器"}</script><html><head><meta name=baidu-site-verification content="code-sfn1yFAEKV"><title>笼鹰的自习室</title><script>(function(){var bp=document.createElement('script');var curProtocol=window.location.protocol.split(':')[0];if(curProtocol==='https'){bp.src='https://zz.bdstatic.com/linksubmit/push.js';}else{bp.src='http://push.zhanzhang.baidu.com/push.js';}
var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(bp,s);})();</script><script>var _hmt=_hmt||[];(function(){var hm=document.createElement("script");hm.src="https://hm.baidu.com/hm.js?8bac0bb1daa46026753cf161e82b48ad";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(hm,s);})();</script></head></html><title>RouteFlow | 笼鹰的自习室</title></head><body id=top data-spy=scroll data-offset=70 data-target=#TableOfContents><script>window.wcDarkLightEnabled=true;</script><script>const isSiteThemeDark=false;</script><script src=/js/load-theme.js></script><aside class=search-results id=search><div class=container><section class=search-header><div class="row no-gutters justify-content-between mb-3"><div class=col-6><h1>Search</h1></div><div class="col-6 col-search-close"><a class=js-search href=#><i class="fas fa-times-circle text-muted" aria-hidden=true></i></a></div></div><div id=search-box><input name=q id=search-query placeholder=Search... autocapitalize=off autocomplete=off autocorrect=off spellcheck=false type=search class=form-control></div></section><section class=section-search-results><div id=search-hits></div></section></div></aside><nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id=navbar-main><div class=container><div class="d-none d-lg-inline-flex"><a class=navbar-brand href=/>笼鹰的自习室</a></div><button type=button class=navbar-toggler data-toggle=collapse data-target=#navbar-content aria-controls=navbar aria-expanded=false aria-label="Toggle navigation">
<span><i class="fas fa-bars"></i></span></button><div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none"><a class=navbar-brand href=/>笼鹰的自习室</a></div><div class="navbar-collapse main-menu-item collapse justify-content-start" id=navbar-content><ul class="navbar-nav d-md-inline-flex"><li class=nav-item><a class=nav-link href=/#about><span>Home</span></a></li><li class=nav-item><a class=nav-link href=/#posts><span>Posts</span></a></li><li class=nav-item><a class=nav-link href=/#projects><span>Projects</span></a></li><li class=nav-item><a class=nav-link href=/#contact><span>Contact</span></a></li></ul></div><ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2"><li class=nav-item><a class="nav-link js-search" href=# aria-label=Search><i class="fas fa-search" aria-hidden=true></i></a></li><li class="nav-item dropdown theme-dropdown"><a href=# class=nav-link data-toggle=dropdown aria-haspopup=true><i class="fas fa-moon" aria-hidden=true></i></a><div class=dropdown-menu><a href=# class="dropdown-item js-set-theme-light"><span>Light</span></a>
<a href=# class="dropdown-item js-set-theme-dark"><span>Dark</span></a>
<a href=# class="dropdown-item js-set-theme-auto"><span>Automatic</span></a></div></li></ul></div></nav><article class=article><div class="article-container pt-3"><h1>RouteFlow</h1><div class=article-metadata><div><span><a href=/author/%E7%AC%BC%E9%B9%B0/>笼鹰</a></span></div><span class=article-date>2020-10-07</span>
<span class=middot-divider></span><span class=article-reading-time>3 min read</span>
<span class=middot-divider></span><span class=article-categories><i class="fas fa-folder mr-1"></i><a href=/category/%E6%8A%80%E6%9C%AF/>技术</a></span></div></div><div class=article-container><div class=article-style><h1 id=routeflow>Routeflow</h1><p>在openflow网络之上提供虚拟IP路由服务的平台。它依赖于POX,OpenFlow,MongoDB,OVS,Quagga</p><ul><li><a href=https://github.com/routeflow/RouteFlow>https://github.com/routeflow/RouteFlow</a> 官方代码</li></ul><h2 id=第三方代码>第三方代码</h2><ul><li><a href=https://github.com/chesteve/RouteFlowVM>https://github.com/chesteve/RouteFlowVM</a> 虚拟机</li><li><a href=https://github.com/call518/SDN-TEST>https://github.com/call518/SDN-TEST</a> ONOS OpenDaylight Routeflowd等</li><li><a href=https://github.com/hungys/RoutingFlow(>https://github.com/hungys/RoutingFlow(</a>在Ryu上实现RIP,OSPF路由协议)</li></ul><h2 id=三大核心组件>三大核心组件</h2><ul><li><strong>RFClient</strong> : 运行在VM（准确说是lxc容器）中的守护程序，监测Linux ARP ,路由表的改变。如果有更新，路由信息会被发送给RFserver。</li><li><strong>RFServer</strong> : 一个独立的app，用来连接并管理运行在VM中的RFClient实例。RFserver负责维护RFclient实例、接口和对应交换机、端口的映射关系。它也和与RFproxy连接，来配置流表</li><li><strong>RFProxy</strong> ：POX的一个app,通过openflow协议与ovs交互，监听RFserver的指令，</li></ul><h2 id=vmrfclient和ovs的映射关系>VM（RFclient）和OVS的映射关系</h2><p>配置被存储在MongoDB一个集合中</p><ul><li>VM 和OVS的映射关系</li><li>virtual interface和交换机端口的映射关系beyond 1:1</li><li>多个控制器管理网络</li></ul><table><thead><tr><th>格式</th><th>类型</th></tr></thead><tbody><tr><td>vm id, vm port, -, -, -, -, -</td><td>闲置的client port</td></tr><tr><td>-, -, -, -, dp id, dp port, ct id</td><td>闲置的datapath port</td></tr><tr><td>vm id, vm port, dp id, dp port, -, -, ct id</td><td>client-datapath映射关系</td></tr><tr><td>vm id, vm port, dp id, dp port, vs id, vs port, ct id</td><td>激活的 client-datapath</td></tr><tr><td>其他与虚拟交换机相关的域 (vs_*)在运行时定义. The ct_id field 标识交换机连接的控制器.(此机制允许多控制器）</td><td></td></tr></tbody></table><p>状态图：
<img src=https://raw.githubusercontent.com/wiki/routeflow/RouteFlow/images/rfstates.png align=center></p><p>当交换机连入网络，RFproxy会告知RFserver交换机的每个物理端口。这些datapath端口被server注册作为空闲的datapath端口或作为client-datapath关联；前者发生的条件是要么<strong>正在被注册的datapath端口没有configuration</strong>，要么<strong>已配置的client端口（与此datapath端口关联）尚未注册</strong>。 后者发生的条件是在<strong>client端口（基于the configuration与此datapath关联）被注册为空闲</strong>。</p><p>当一个RFclient启动，他会告诉server它的端口。这些client端口被server注册作为空闲的client端口或client-datapath关联。和上文的datapath端口行为描述类似。</p><p>关联之后，RFserver要求client触发一个消息，这个消息将通过client连接的虚拟交换机到达proxy。这样proxy能感知client和虚拟交换机之间的连接，通知server。
然后server决定怎么处理这个信息。一般地，proxy会被命令重定向所有从虚拟交换机到与它关联的物理交换机的流，and vice-versa（反之亦然）.</p><p>当交换机断开网络，它的端口从所有涉及到的关联中移除，留下空闲的client端口。如果datapath回来了，系统将把它当作新的datapath，如上文描述.</p><h3 id=lxc简介>LXC简介</h3><p>Linux Container容器是一种内核虚拟化技术，简称LXC。提供轻量级的虚拟化，以便隔离进程和资源，使用 LXC 的优点就是不需要安装太多的软件包，使用过程也不会占用太多的资源。LXC 在资源管理方面依赖 Linux 内核的 cgroups （Control Groups） 系统，cgroups 系统是 Linux 内核提供的一个基于进程组的资源管理的框架，可以为特定的进程组限定可以使用的资源。</p><h3 id=lxc常用命令>lxc常用命令</h3><pre><code class=language-sh>1. 安装lxc
    apt-get -y --force-yes install lxc
2. 检查
    lxc-checkconfig 如果所有项目显示“enabled”则OK
3. 根据模板创建容器
lxc-create -t ubuntu -n base
#-n是容器的名字;-t  是容器的模板（模板的保存路径是：/usr/lib/lxc/templates/==模板都是一个脚本文件，执行了一系列操作，包括创建容器的时候挂载文件系统，配置网络，安装必要软件，创建用户/属组，设置密码等=
4. 启动 LXC 虚拟计算机
    lxc-start -n testA 确认账号和密码后登录虚拟计算机
6、列出当前所有的容器
　　lxc-ls
7、使用 console 登入容器
    lxc-console -n testA –t 3
8、停止运行一个容器
    lxc-stop -n testA
9、获取一个容器的状态
    lxc-info -n ol6ctr1
10、把一个容器销毁
     lxc-destroy -n testA1
11、复制一个容器
    lxc-clone -o testA -n ol6ctr2
12、暂停或恢复一个容器
    lxc-freeze -n testA
    lxc-unfreeze -n testA
13、修改 LXC 网络接口
    vi /etc/default/lxc
14. 用户修改后要重新启动网络服务
    service lxc-net restart
</code></pre><h2 id=实验>实验</h2><h3 id=编译rfclient>编译rfclient</h3><pre><code class=language-sh>make rfclient
</code></pre><p>#make build -> lib -> rfclient:<br>编译rflib/ipc, rflib/types, rfclient/. 目录下的文件到 build/</p><pre><code class=language-sh>./Makefile
export ROOT_DIR=.
export BUILD_DIR=./build
export LIB_DIR=./rflib
export MONGO_DIR=/usr/local/include/mongo
# 编译产物存放目录
export BUILD_LIB_DIR=./build/lib
export BUILD_OBJ_DIR=./build/obj 

export libdirs := ipc types （rflib下的两个目录）
</code></pre><h3 id=创建lxc容器切到rftest目录执行create>创建LXC容器：切到rftest目录,执行./create</h3><p>create脚本内容：</p><ol><li>容器创建路径/var/lib/lxc</li><li>apt安装lxc</li><li>创建默认LXC容器base</li></ol><pre><code>lxc-create -t ubuntu -n base
-n是容器的名字;-t  是容器的模板（在/usr/lib/lxc/templates/里，模板就是一个脚本文件，内容包括创建容器的时候挂载文件系统，配置网络，安装必要软件，创建用户/属组，设置密码等==）
</code></pre><ol start=4><li>安装quagga、tcpdump到容器</li></ol><pre><code class=language-sh>chroot $LXCDIR/base/rootfs apt-get install
#chroot命令用来在指定的根目录下运行指令
</code></pre><ol start=5><li>基于刚刚创建的base容器和rftest/conifg下的容器配置文件，克隆其他LXC容器</li></ol><h3 id=1rftest1>1)rftest1</h3><p>创建3个LXC容器b1(172.31.1.2)、b2(172.31.2.2)、rfvm1（192.169.1.100）其中rfvm1分别配两个interface与b1,b2连接。设法使rfvm1充当网关（路由器），使得b1 能ping 通 b2。
<img src=https://github.com/routeflow/RouteFlow/wiki/images/rftest1_scenario.png alt=image></p><p>RF中的一台虚拟机充当openflow交换机，这台虚拟机中路由表和arp表发生任何事，都被复制到交换机。 RFClient负责监听这些表的事件并且通知rfserver。<br>因此要部署一台LXC容器,另配一个iface作为管理接口连接这个RFclient和其他<br><strong>config文件:</strong>
此文件是所有setup的基础，根据情况修改名字和hwaddr<br>第一个iface(rfvm1.0)的hwaddr将被用为RFclient的ID.</p><pre><code class=language-sh>lxc.utsname = rfvm1
lxc.network.type = veth
lxc.network.flags = up
lxc.network.hwaddr = 12:a0:a0:a0:a0:a0
lxc.network.link=lxcbr0

lxc.network.type = veth
lxc.network.flags = up
lxc.network.veth.pair= rfvm1.1 
lxc.network.hwaddr = 12:a1:a1:a1:a1:a1

lxc.network.type = veth
lxc.network.flags = up
lxc.network.veth.pair = rfvm1.2
lxc.network.hwaddr = 12:a2:a2:a2:a2:a2
...
lxc.rootfs = /var/lib/lxc/rfvm1/rootfs
lxc.mount  = /var/lib/lxc/rfvm1/fstab
</code></pre><p>rootfs和mount不用修改。容器的位置一般在 <strong>/var/lib/lxc</strong>
<strong>/etc/sysctl.conf</strong> 中开启IPv4转发，让rfvm1作为网关，关闭quagga
<strong>/etc/rc.local</strong>调用<strong>root/run_rfclient脚本</strong>开启RFclient实例。</p><p>==ReadMe==：All these customizations, when structured like in the rftest/config/rfvm1 folder will be read the the rftest/create script, that will create any number of LXC containers based on a basic template.</p><h4 id=执行rftest1>执行./rftest1</h4><p>此脚本必须被root用户执行。<br>一、重置环境:</p><pre><code class=language-sh>reset 1：
初始化ovs:删除dp0,switch1网桥
初始化VMs：lxc关机，删除vm路径下的rootfs/var/run/network/ifstate
断开mongodb，删除数据rfvm1路径下的rootfs/opt/rfclient
trap &quot;reset 0; exit 0&quot; INT
#当脚本程序收到INT命令（被中断时），执行reset 0; exit 0完成清理工作
配置容器的管理接口：ifconfig lxcbr0 $MONGODB_ADDR(192.168.10.1) up
sed -i &quot;/bind_ip/c\bind_ip = 127.0.0.1,$MONGODB_ADDR&quot; $MONGODB_CON
#用bind_ip=127.0.0.1,192.168.10.1取代bind_ip行
重启mongodb
wait_port_listen $MONGODB_PORT(27017)
# 阻塞执行直到在指定端口监听到一个socket开启。
# MongoDB服务器：监听此网桥，确保容器能连接到 Routeflow架构。
</code></pre><p>二、配置LXC 容器<strong>rfvm1</strong>作为RFclient运行</p><pre><code>新建rfclient目录
mkdir /var/lib/lxc/rfvm1/rootfs/opt/rfclient
复制rfclient可执行程序
cp build/rfclient   /var/lib/lxc/rfvm1/rootfs/opt/rfclient/rfclient
创建脚本run_rfclient.sh在/var/lib/lxc/rfvm1/rootfs/root下用于启动RFclient （脚本内容：sleep 5
/opt/rfclient/rfclient&gt; /var/log/rfclient.log）
启动pox
#作为控制器app的RFproxy也随之启动,控制器日志等级设为INFO
wait_port_listen $Contorller_PORT(6633)
启动rfserver
./rfserver/rfserver.py rftest/rftest1config.csv &amp;
# rftest1config.csv是vm_id,vm_port,ct_id,dp_id,dp_port映射表
启动容器并登录：lxc-start -n rfvm1 -d
</code></pre><p>三、连接容器到正在运行数据库服务的hosts</p><pre><code class=language-sh>ovs添加网桥dp0，端口rfvm1.1，rfvm1.2,dpid=7266767372667673
dp0连接控制器：ovs-vsctl set-controller dp0 tcp:127.0.0.1:$CONTROLLER_PORT（6633）

启动hosts（容器b1、b2)
ovs添加网桥switch1,端口b1.0、b2.0，dpid=99
switch1连接到控制器
</code></pre><p>在host创建ovs网桥，连接<em>容器的管理接口</em>（rfvm1的eth0）
<strong>br0</strong>，192.169.1.1，这个地址被写死在rflib/defs.h（给RFclient和NOX-RFproxy以及RFserver和POX-RFproxy）
四、登录到容器host1
lxc-console -n b1（用户名密码都是ubuntu）
在b1（172.31.1.2）里ping -c 3 172.31.2.2（b2）</p><p>ping通的原因：
rfserver维护映射表</p><table><thead><tr><th>vm_id</th><th>vm_port</th><th>ct_id</th><th>dp_id,dp_port</th></tr></thead><tbody><tr><td>12A0A0A0A0A0</td><td>1</td><td>0</td><td>99</td></tr><tr><td>12A0A0A0A0A0</td><td>2</td><td>0</td><td>99</td></tr><tr><td>容器id是12A0A0A0A0A0，它的接口eth1对应dpid（switch）的接口1,</td><td></td><td></td><td></td></tr><tr><td>接口eth2对应dpid（switch）的接口2</td><td></td><td></td><td></td></tr></tbody></table><p>Did you find this page helpful? Consider sharing it 🙌</p></div><div class=article-tags><a class="badge badge-light" href=/tag/ovs/>ovs</a>
<a class="badge badge-light" href=/tag/openflow/>openflow</a></div><div class=share-box aria-hidden=true><ul class=share><li><a href="https://twitter.com/intent/tweet?url=/post/routeflow/&text=RouteFlow" target=_blank rel=noopener class=share-btn-twitter><i class="fab fa-twitter"></i></a></li><li><a href="https://www.facebook.com/sharer.php?u=/post/routeflow/&t=RouteFlow" target=_blank rel=noopener class=share-btn-facebook><i class="fab fa-facebook"></i></a></li><li><a href="mailto:?subject=RouteFlow&body=/post/routeflow/" target=_blank rel=noopener class=share-btn-email><i class="fas fa-envelope"></i></a></li><li><a href="https://www.linkedin.com/shareArticle?url=/post/routeflow/&title=RouteFlow" target=_blank rel=noopener class=share-btn-linkedin><i class="fab fa-linkedin-in"></i></a></li><li><a href="whatsapp://send?text=RouteFlow%20/post/routeflow/" target=_blank rel=noopener class=share-btn-whatsapp><i class="fab fa-whatsapp"></i></a></li><li><a href="https://service.weibo.com/share/share.php?url=/post/routeflow/&title=RouteFlow" target=_blank rel=noopener class=share-btn-weibo><i class="fab fa-weibo"></i></a></li></ul></div><div class="media author-card content-widget-hr"><a href=/><img class="avatar mr-3 avatar-circle" src=/author/%E7%AC%BC%E9%B9%B0/avatar_hud1d7835fdb4144130bc67370de929981_31535_270x270_fill_q90_lanczos_center.jpg alt=笼鹰></a><div class=media-body><h5 class=card-title><a href=/>笼鹰</a></h5><h6 class=card-subtitle>Java后端开发</h6><ul class=network-icon aria-hidden=true><li><a href=/#contact><i class="fas fa-envelope"></i></a></li><li><a href=https://github.com/ChenjiaxingXJTU target=_blank rel=noopener><i class="fab fa-github"></i></a></li><li><a href=https://gitlab.com/ChenjiaxingXJTU target=_blank rel=noopener><i class="fab fa-gitlab"></i></a></li><li><a href=https://twitter.com/ChenjiaxingXJTU target=_blank rel=noopener><i class="fab fa-twitter"></i></a></li><li><a href=https://www.instagram.com/ChenjiaxingXJTU/ target=_blank rel=noopener><i class="fab fa-instagram"></i></a></li><li><a href=https://www.facebook.com/ChenjiaxingXJTU target=_blank rel=noopener><i class="fab fa-facebook"></i></a></li><li><a href=https://telegram.me/ChenjiaxingXJTU target=_blank rel=noopener><i class="fab fa-telegram"></i></a></li><li><a href=https://www.linkedin.com/in/ChenjiaxingXJTU/ target=_blank rel=noopener><i class="fab fa-linkedin"></i></a></li></ul></div></div><section id=comments><div id=disqus_thread></div><script>let disqus_config=function(){};(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById('disqus_thread').innerHTML='Disqus comments not available by default when the website is previewed locally.';return;}
var d=document,s=d.createElement('script');s.async=true;s.src='https://'+"chenjiaxing"+'.disqus.com/embed.js';s.setAttribute('data-timestamp',+new Date());(d.head||d.body).appendChild(s);})();</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></section><div class="article-widget content-widget-hr"><h3>Related</h3><ul><li><a href=/post/ovs/>ovs问题总结</a></li><li><a href=/post/onos/>bazel编译onos出错</a></li><li><a href=/post/disk/>linux磁盘扩容</a></li><li><a href=/post/website/>个人博客维护出现的问题</a></li><li><a href=/post/mirror/>加快apt/maven/bazel/npm/pip拉取速度</a></li></ul></div></div></article><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.4/imagesloaded.pkgd.min.js integrity="sha256-lqvxZrPLtfffUl2G/e7szqSvPBILGbwmsGE1MKlOi0Q=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.6/isotope.pkgd.min.js integrity="sha256-CBrpuqrMhXwcLLUd5tvQ4euBHCdh7wGlDfNz8vbu/iI=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/instant.page/5.1.0/instantpage.min.js integrity="sha512-1+qUtKoh9XZW7j+6LhRMAyOrgSQKenQ4mluTR+cvxXjP1Z54RxZuzstR/H9kgPXQsVB8IW7DMDFUJpzLjvhGSQ==" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/mermaid/8.8.0/mermaid.min.js integrity="sha512-ja+hSBi4JDtjSqc4LTBsSwuBT3tdZ3oKYKd07lTVYmCnTCor56AnRql00ssqnTOR9Ss4gOP/ROGB3SfcJnZkeg==" crossorigin=anonymous title=mermaid></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/highlight.min.js integrity="sha512-TDKKr+IvoqZnPzc3l35hdjpHD0m+b2EC2SrLEgKDRWpxf2rFCxemkgvJ5kfU48ip+Y+m2XVKyOCD85ybtlZDmw==" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/languages/r.min.js></script><script>const code_highlighting=true;</script><script>const search_config={"indexURI":"/index.json","minLength":1,"threshold":0.3};const i18n={"no_results":"No results found","placeholder":"Search...","results":"results found"};const content_type={'post':"Posts",'project':"Projects",'publication':"Publications",'talk':"Talks",'slides':"Slides"};</script><script id=search-hit-fuse-template type=text/x-template>
      <div class="search-hit" id="summary-{{key}}">
      <div class="search-hit-content">
        <div class="search-hit-name">
          <a href="{{relpermalink}}">{{title}}</a>
          <div class="article-metadata search-hit-type">{{type}}</div>
          <p class="search-hit-description">{{snippet}}</p>
        </div>
      </div>
      </div>
    </script><script src=https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.2.1/fuse.min.js integrity="sha256-VzgmKYmhsGNNN4Ph1kMW+BjoYJM2jV5i4IlFoeZA9XI=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin=anonymous></script><script src=/js/wowchemy.min.4c2bca31150ce93c5a5e43b8a50f22fd.js></script><div class=container><footer class=site-footer><p class=powered-by><span xmlns:dct=http://purl.org/dc/terms/ property="dct:title">This work</span> by <a xmlns:cc=http://creativecommons.org/ns# href=/#about property="cc:attributionName" rel=cc:attributionurl>笼鹰</a> is licensed under a <a rel=license href=http://creativecommons.org/licenses/by-sa/4.0/>Creative Commons Attribution-ShareAlike 4.0 International License</a>.<br><a target=_blank href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=61010302000452" style=display:inline-block;text-decoration:none;height:20px;line-height:20px><img src=/img/公网安.png style=float:left>陕公网安备 61010302000452号</a><br>&copy; 2020</p><p class=powered-by>Published with
<a href=https://wowchemy.com target=_blank rel=noopener>Wowchemy</a> —
the free, <a href=https://github.com/wowchemy/wowchemy-hugo-modules target=_blank rel=noopener>open source</a> website builder that empowers creators.
<span class=float-right aria-hidden=true><a href=# class=back-to-top><span class=button_icon><i class="fas fa-chevron-up fa-2x"></i></span></a></span></p></footer></div><div id=modal class="modal fade" role=dialog><div class=modal-dialog><div class=modal-content><div class=modal-header><h5 class=modal-title>Cite</h5><button type=button class=close data-dismiss=modal aria-label=Close>
<span aria-hidden=true>&#215;</span></button></div><div class=modal-body><pre><code class="tex hljs"></code></pre></div><div class=modal-footer><a class="btn btn-outline-primary my-1 js-copy-cite" href=# target=_blank><i class="fas fa-copy"></i>Copy</a>
<a class="btn btn-outline-primary my-1 js-download-cite" href=# target=_blank><i class="fas fa-download"></i>Download</a><div id=modal-error></div></div></div></div></div></body></html>